<!doctype html>
<html lang="fr">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="author" content="Jean-François Lépine" />
    <meta name="date" content="23/02/2013"/>
    <meta name="generator" content="easybook 5.0-DEV"/>

    <title>Comprenez (enfin!) ce que votre client vous demande | Développeurs, faites-vous plaisir !</title>

    <link rel="stylesheet" href="./css/easybook.css" />

</head>

<body class="item chapter">
<div class="container">
<div class="menu">
    <div class="row">
        <h1 class="span9"><a href="./index.html">Développeurs, faites-vous plaisir !</a></h1>
        <p class="span3">
                        <a href="./chapitre-2.html"><span>&larr;</span> Précédent</a>
            
                        <a href="./chapitre-4.html">Suivant <span>&rarr;</span></a>
                    </p>
    </div>
</div>

<div class="row">
    <div class="span9">
        <h1 id="chapitre-3"><span>Chapitre 3</span> Comprenez (enfin!) ce que votre client vous demande</h1>
        <p>Vous l'avez compris : votre client ne parle pas la même langue que vous. Comment comprendre ce qu'il vous demande dans ce cas ?
Certains vous répondront : "utilisez UML". D'autres vous diront qu'il faut demander à
votre client de s'exprimer sous forme de "si...alors". J'imagine que cela doit être possible
dans certain cas. Mais dans la majorité des situations, exiger de vos clients qu'ils apprennent l'UML, 
ou leur demander de formaliser leur pensée sous forme de logique booléenne, est un contre-sens ! 
Ils n'y arriveront pas efficacement : ce n'est pas leur métier, et probablement pas leur mode de pensée.</p>

<p>C'est pour cela qu'il existe ce que l'on appelle le "Développement piloté par le Comportement" 
("Behavior Driven Development", ou "BDD" en anglais). Ce qui se cache derrière ce terme barbare est 
en réalité très simple : il s'agit d'une démarche pour faciliter la communication entre fonctionnels
 et techniques, démarche soutenue par l'utilisation d'une langue et d'une grammaire commune.</p>

<p>Cette grammaire commune (appelée "Gherkin") est simple, facile à apprendre, et compréhensible tout 
autant par un informaticien que par votre voisin, votre coinjoint(e)..., et par là-même par votre client.</p>

<p>Utiliser cette grammaire vous offrira un certain nombre d'avantages :</p>

<ul>
<li>vous éviterez les quiproquos</li>
<li>les spécifications vous serviront de documentation</li>
<li>il sera plus facile d'identifier et de gérer les changements fonctionnels de dernière minute</li>
<li>vous saurez à tout moment ce qu'il vous reste à faire</li>
</ul>

<p>Attention, le Développement piloté par le comporement a un pré-requis majeur et non
négociable : <em>le client doit s'investir</em>. Il faudra que le client (ou son représentant fonctionnel) 
soit disponible pour répondre à chacune de vos questions, en permanence. Si personne autour de vous 
n'est prêt à s'investir pour exprimer le besoin clairement, oubliez l'idée de pratiquer le Développement 
piloté par le comportement : vous n'aurez pas les moyens d'y parvenir.</p>

<blockquote>
  <p>Gherkin est une grammaire accessible à tous pour structurer l'expression de besoin</p>
</blockquote>

<h2 id="le-besoin-doit-etre-exprime-par-des-fonctionnalites">3.1 Le besoin doit être exprimé par des Fonctionnalités</h2>

<p>Concrètement, comment démarrer ? La première tâche revient à votre client. C'est lui qui
va dévoir recencer la liste des Fonctionnalités qu'il souhaite voir dans son application.</p>

<p>Pour cela, il va devoir identifier chaque fonctionnalité par un titre simple, court, expli-
cite et unique :</p>

<div class="code code gherkin">
<pre class="codegherkin"># Le client va distinguer les fonctionnalités en leur donnant un titre 
Fonctionnalité : Avoir accès à la liste des animaux de compagnie
Fonctionnalité : Choisir un animal de compagnie
Fonctionnalité : Acheter un animal de compagnie
Fonctionnalité : ...</pre>
</div>

<p>Il est impératif qu'à cette étape les titres des fonctionnalités soient clairs et explicites.</p>

<p>Ensuite, il va lui suffire de contextualiser un peu cette fonctionnalité. Par exemple, il devra 
indiquer qui est le bénéficiaire de cette fonctionnalité :</p>

<div class="code code gherkin">
<pre class="codegherkin">En tant que vendeur
En tant que acheteur
En tant que propriétaire de la boutique
En tant que ...</pre>
</div>

<p>Vous avez donc désormais connaissance de l'acteur bénéficiaire de la fonctionnalité. Il
reste encore à identifier le service offert par la fonctionnalité. C'est cela que vous aurez, finalement, à programmer :</p>

<div class="code code gherkin">
<pre class="codegherkin">Je veux acheter un animal de compagnie
Je veux connaître la liste des animaux de compagnie de mon magasin
Je veux connaître la liste des vendeurs
Je veux ...</pre>
</div>

<p>Pour lever toute ambiguïté, il est important pour vous de comprendre quel est le bénéfice
de la fonctionnalité que vous aller développer : à quoi sert-elle vraiment ?</p>

<p>Après tout, c'est indispensable de comprendre et de connaître le pourquoi de votre métier.
Lorsque vous travaillez, le fruit de votre travail est vraiment utile ; et il est toujours gratifiant 
de voir que l'on a rendu service à quelqu'un. C'est pour cela qu'il est important que le
client exprime le bénéfice obtenu par la fonctionnalité :</p>

<div class="code code gherkin">
<pre class="codegherkin">De telle sorte que je puisse repartir avec un nouveau compagnon
De telle sorte que je sache s'il me faut renouveler le stock
De telle sorte que je puisse organiser les congés de chacun
De telle sorte que ...</pre>
</div>

<p>Chaque fonctionnalité peut donc être exprimée en quatre lignes, très simples et compréhensibles par tous :</p>

<div class="code code gherkin">
<pre class="codegherkin">Fonctionnalité : Connaître la liste des animaux de compagnie disponibles
  En tant que vendeur
  Je veux connaître la liste des animaux de compagnie disponibles à la vente
  De telle sorte que je sache s'il me faut renouveler le stock</pre>
</div>

<p>Pratique non ? Cette manière d'exprimer les fonctionnalités (dénommée "Gherkin"), est
simple, mais surtout est compréhensible par tous. C'est le rôle de votre client (ou fonctionnel) 
de recencer l'ensemble des fonctionnalités du projet de cette manière.
Mais, vous vous en doutez, cela ne suffit pas. Il va falloir maintenant comprendre en détail 
chaque fonctionnalité ; c'est un travail que vous ferez en commun</p>

<h2 id="vous-etes-un-journaliste-interviewez-">3.2 Vous êtes un journaliste : interviewez !</h2>

<p>Chaque Fonctionnalité peut donc être traduite en quatre petites phrases. Mais dans la majorité 
des cas cela ne suffira pas : il reste des ambiguïtés, ce n'est pas très précis...</p>

<p>C'est là que vous entrez en scène. A partir du moment où les fonctionnalités sont décrites
dans leurs grandes lignes, vous allez devoir les détailler. Oui, vous-même !
Comment ? Tout simplement en prenant quelques instants la casquette d'un journaliste :
interviewez votre fonctionnel !</p>

<p>Attention, je vous parle d'une vraie interview. Prenez le temps, pour chaque Fonctionnalité, 
de poser un maximum de questions pertinentes : "et qu'est-ce qui se passe quand ... ?" ;
ou encore "je ne comprend pas le bénéfice tiré de cette fonctionnalité pour l'utilisateur."</p>

<p>Posez, donc, toutes ces questions. Et surtout planifiez systématiquement un moment,
avant chaque itération, où votre fonctionnel et l'ensemble des équipes techniques (oui,
toutes lers personnes qui sont concernées), vont se réunir pour cette interview.</p>

<p>J'insiste : il ne s'agit pas d'une réunion facultative : comment ferait-on sans cela pour être
sûr d'avoir bien compris la demande du client ? Le temps passé n'est pas perdu, loin de là :
c'est du temps de gagné sur la future maintenance, les futures recettes et les futurs vas-et-vients 
entre le client et les équipes techniques.</p>

<p>L'objectif de ces interviews est de comprendre exactement, sans aucune ambiguïté possible, 
ce qui vous est demandé fonctionnellement. Pour cela, il faudra découper les prochaines 
Fonctionnalités que vous aurez à développer en "Scénarios".</p>

<h2 id="chaque-fonctionnalite-peut-etre-decoupe-en-scenarios">3.3 Chaque Fonctionnalité peut être découpé en Scénarios</h2>

<p>Chaque Fonctionnalité peut être décrite en quatre points :</p>

<ul>
<li>un titre</li>
<li>un rôle</li>
<li>un service rendu</li>
<li>un bénéfice métier</li>
</ul>

<p>Mais cela ne suffira probablement pas. Il reste des questions en suspens. C'est le rôle des
Scénarios de lever ces incertitudes. Ce sera d'autant plus vrai qu'ils seront rédigés en commun 
avec le fonctionnel et les équipes techniques.</p>

<p>Chaque Fonctionnalité peut contenir un ou plusieurs Scénarios, et chaque Scénario doit
pouvoir se distinguer facilement des autres par un titre :</p>

<div class="code code gherkin">
<pre class="codegherkin">Fonctionnalité : acheter un animal de compagnie
  (...)
  Scénario : acheter un animal de compagnie disponible à la vente
  Scénario : tenter d'acheter un animal de compagnie qui est trop jeune
  Scénario : tenter d'acheter un animal de compagnie qui est réservé
  ...</pre>
</div>

<p>Votre travail de développeur va consister à rendre ces Scénarios effectifs dans
l'application. En identifiant les Scénarios réalisés et ceux qui ne le sont pas vous saurez
donc exactement ce qu'il vous reste à faire.</p>

<p>Vous vous en doutez : un simple titre ne suffit pas ; il va falloir compléter chaque Scénario.
Posez par exemple cette question : "dans quel cadre ce scénario se situe t-il ?". Cela vous 
permettra de connaître le <em>Contexte de votre Scénario</em>:</p>

<div class="code code gherkin">
<pre class="codegherkin">Scénario : ...
  Etant donné que tel contexte existe
  Etant donné que je souhaite acheter un chien
  Etant donné qu'il n'y a plus un seul animal disponible
  Etant donné ...</pre>
</div>

<p>Une application consiste généralement à réagir à des <em>événements</em>. Précisez-donc quels
sont ces événéments :</p>

<div class="code code gherkin">
<pre class="codegherkin">Scénario : ...
  (...)
  Quand j'essaye d'acheter un chien
  Quand je regarde quels sont les animaux disponibles
  Quand ...</pre>
</div>

<p>Dès lors, il ne vous reste plus qu'à préciser le <em>Résultat attendu</em> lorsque cet événement
survient :</p>

<div class="code code gherkin">
<pre class="codegherkin">Scénario : ...
  (...)
  Alors je peux repartir avec un petit chien
  Alors je dois être informé que le chien est trop jeune pour être
  vendu
  Alors ...</pre>
</div>

<p>Cette syntaxe, simple, que l'on nomme Gherkin, va suffire dans la majorité des cas pour
que le fonctionnel puisse exprimer son besoin et surtout pour que vous puissez comprendre 
sans ambiguïté ce qui vous ai demandé.</p>

<p>Voici un exemple de Fonctionnalité :</p>

<div class="code code gherkin">
<pre class="codegherkin">Fonctionnalité : acheter un chiot
En tant que client du magasin
Je veux pouvoir acheter un chiot
De telle sorte que je puisse avoir un animal de compagnie
&nbsp;
Scénario : acheter un chiot disponible à la vente
  Etant donné qu'un chiot est disponible en stock
  Quand j'achète un chiot
  Alors on me donne un chiot
&nbsp;
Scénario: acheter un chiot sevré
  Etant donné qu'un chiot est trop jeune pour être vendu
  Quand j'essaye d'acheter ce chiot
  Alors je suis informé qu'il est trop jeune pour être vendu</pre>
</div>

<p>Pratique non ?</p>

<h2 id="-demandez-exigez-des-exemples-precis">3.4  Demandez (exigez) des exemples précis</h2>

<p>Rappelez-vous que l'objectif du Développement piloté par le comportement est de lever
toutes les ambiguïtés. Pourtant, dans le scénario suivant, il reste des questions :</p>

<div class="code code gherkin">
<pre class="codegherkin">Scénario:  acheter un chiot sevré
  Etant donné qu'un chiot est trop jeune pour être vendu
  Quand j'essaye d'acheter ce chiot
  Alors je suis informé qu'il est trop jeune pour être vendu</pre>
</div>

<p>Ces questions sont nombreuses :</p>

<ul>
<li>à partir de quel âge un chiot peut-il être vendu ?</li>
<li>quel est l'âge du chiot que l'on essaye d'acheter ?</li>
<li>comment suis-je informé ? par quelle phrase ?</li>
</ul>

<p>Autant de questions auxquelles, si vous ne les posez pas maintenant, vous serez obligé de
répondre vous-même, avec tous les risques que cela comporte, notamment celui de devoir
recommencer son développement !</p>

<p>Heureusement, il est tout à fait possible, avec Gherkin, de préciser des valeurs à utiliser. Il
suffit de les encadrer dans des guillemets :</p>

<div class="code code gherkin">
<pre class="codegherkin">Scénario : acheter un chiot sevré
  Etant donné qu'un chiot ne peut être vendu avant qu'il n'ait &quot;2 mois&quot;
  Et que &quot;Médor le chien&quot; a actuellement &quot;1 mois&quot;
  Quand j'essaye d'acheter &quot;Médor le chien&quot;
  Alors on doit me dire &quot;Médor le chient est trop jeune !&quot;</pre>
</div>

<p>Pas mal d'ambiguïtés sont levées non ? Et ça ne prend pas beaucoup plus de temps à écrire.
Maintenant, il peut arriver qu'un seul exemple ne suffise pas ; il en faudrait plusieurs. Pas
de problèmes, Gherkin vous permet d'utiliser des exemples facilement ; il suffit de les passer 
sous forme de tableaux. Les variables sont alors à encadrer par les symboles "&lt;" (plus petit que) 
et ">" (plus grand que).</p>

<div class="code code gherkin">
<pre class="codegherkin">Plan de Scénario : acheter un chiot sevré
  Etant donné qu'un chiot ne peut être vendu avant qu'il n'ait &quot;2 mois&quot;
  Et que &quot;&lt;nom-du-chien&gt;&quot; a actuellement &quot;&lt;age-du-chien&gt;&quot;
  Quand j'essaye d'acheter &quot;&lt;nom-du-chien&gt;&quot;
  Alors on doit me dire &quot;&lt;nom-du-chien&gt; est trop jeune !&quot;
&nbsp;
Exemples :
  | nom-du-chien  | age-du-chien        |
  | médor       | 1 mois            |
  | rex         | 1 mois et 3 jours     |
  | rantanplan    | 15 jours            |</pre>
</div>

<p>Remarquez qu'il ne s'agit plus dans ce cas d'un "Scénario" mais d'un "Plan de Scénario".</p>

<p>Vous voici donc avec un besoin simple, découpé et exprimé clairement. A vous de jouer !</p>

    </div>

    <div class="span3">
        <div class="item local_toc">
            <h3>Table des matières</h3>

            <ul class="unstyled">
                                                <li class="level-1">
                        <span></span>
                        <a href="#chapitre-3">Comprenez (enfin!) ce que votre client vous demande</a>
                    </li>
                                    <li class="level-2">
                        <span>3.1</span>
                        <a href="#le-besoin-doit-etre-exprime-par-des-fonctionnalites">Le besoin doit être exprimé par des Fonctionnalités</a>
                    </li>
                                    <li class="level-2">
                        <span>3.2</span>
                        <a href="#vous-etes-un-journaliste-interviewez-">Vous êtes un journaliste : interviewez !</a>
                    </li>
                                    <li class="level-2">
                        <span>3.3</span>
                        <a href="#chaque-fonctionnalite-peut-etre-decoupe-en-scenarios">Chaque Fonctionnalité peut être découpé en Scénarios</a>
                    </li>
                                    <li class="level-2">
                        <span>3.4</span>
                        <a href="#-demandez-exigez-des-exemples-precis"> Demandez (exigez) des exemples précis</a>
                    </li>
                                        </ul>
        </div>
    </div>
</div>
</div>
</body>
</html>