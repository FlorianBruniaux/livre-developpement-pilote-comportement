<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>
<HEAD>
	<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset=utf-8">
	<TITLE>Le développement piloté par le comportement</TITLE>
	<META NAME="GENERATOR" CONTENT="LibreOffice 3.6  (Linux)">
	<META NAME="AUTHOR" CONTENT="Jean-François Lépine">
	<META NAME="CREATED" CONTENT="0;0">
	<META NAME="CHANGEDBY" CONTENT="jflepine ">
	<META NAME="CHANGED" CONTENT="20130419;16261300">
	<META NAME="date" CONTENT="19/04/2013">
	<STYLE TYPE="text/css">
	<!--
		P { font-variant: normal; color: #333333; font-family: "Helvetica Neue", "Helvetica", "Arial", sans-serif; font-size: 10pt; font-style: normal; font-weight: normal; line-height: 0.53cm }
		TD P { font-variant: normal; color: #333333; font-family: "Helvetica Neue", "Helvetica", "Arial", sans-serif; font-size: 10pt; font-style: normal; font-weight: normal; line-height: 0.53cm }
		H1 { font-variant: normal; color: #333333; font-size: 21pt; font-style: normal; line-height: 100% }
		H2 { margin-top: 0.79cm; background: #f7f7f9; border: 1px solid #e1e1e8; padding: 0.26cm; font-variant: normal; color: #333333; line-height: 100% }
		H2.western { font-size: 15pt; font-style: normal }
		H2.cjk { font-size: 15pt; font-style: normal }
		H2.ctl { font-family: "Lohit Hindi"; font-size: 15pt; font-style: normal }
		H3 { font-variant: normal; color: #333333; line-height: 100% }
		H3.western { font-size: 10pt; font-style: normal }
		H3.cjk { font-size: 10pt; font-style: normal }
		H3.ctl { font-family: "Lohit Hindi"; font-size: 10pt; font-style: normal }
		DT { font-variant: normal; color: #333333; font-family: "Helvetica Neue", "Helvetica", "Arial", sans-serif; font-size: 10pt; font-style: normal; font-weight: bold; line-height: 0.53cm }
		DD { font-variant: normal; color: #333333; font-family: "Helvetica Neue", "Helvetica", "Arial", sans-serif; font-size: 10pt; font-style: normal; font-weight: normal; line-height: 0.53cm }
		BLOCKQUOTE { font-variant: normal; color: #333333; font-family: "Helvetica Neue", "Helvetica", "Arial", sans-serif; font-size: 10pt; font-style: normal; font-weight: normal; line-height: 0.53cm }
		PRE { font-variant: normal; color: #333333; font-style: normal; font-weight: normal; line-height: 0.53cm }
		PRE.code { background: #000000; color: #999999; font-style: normal; font-weight: normal }
		TH P { font-variant: normal; color: #333333; font-family: "Helvetica Neue", "Helvetica", "Arial", sans-serif; font-size: 10pt; font-style: normal; line-height: 0.53cm }
		A:link { color: #152dc6 }
		EM { color: #c20cb9; font-size: 9pt }
		A:visited { color: #152dc6 }
	-->
	</STYLE>
</HEAD>
<BODY LANG="fr-FR" TEXT="#333333" LINK="#152dc6" VLINK="#152dc6" BGCOLOR="#ffffff" DIR="LTR">
<H1>Le développement piloté par le comportement</H1>
<H2 CLASS="western">Jean-François Lépine</H2>
<H1><A NAME="communiquez-avec-vos-developpeurs"></A>Communiquez avec
vos développeurs</H1>
<H1>Mettez toutes les chances de votre côté</H1>
<P>Imaginez : voilà un bon père de famille qui se décide, enfin, a
changer sa vieille voiture. Bien décidé à investir dans du neuf,
il se rend chez le concessionnaire du coin, et explique ce qu'il
veut... oh, rien de bien compliqué : il doit pouvoir aller faire ses
courses, partir en vacances de temps en temps, et, ah si, aller au
travail tous les jours. &quot;Pas de problème, je vous livre votre
nouvelle voiture dans deux semaines&quot; répond le
concessionnaire.&nbsp;</P>
<P>Trois semaines plus tard (&quot;ah oui, désolé il y a eu un peu
de retard, mais c'est normal&quot; le rassure le concessionnaire),
une petite surprise attend notre père de famille : ce n'est pas la
voiture familiale qu'il espérait, mais une camionnette, 12m cube, 45
000 € (&quot;on a rencontré des difficultés imprévues&quot;),
2m10 de haut (la porte de son garage mesure 1m90, mais le
concessionnaire est convaincu que &quot;c'est quand même plus
pratique d'avoir une bonne hauteur de coffre. Ah, et je vous ai même
ajouté un volant de course, le top du top !&quot;).&nbsp;</P>
<P>Pas très agréable, non ? Ce n'est pas du tout ce que notre père
de famille souhaitait ! Pourtant... Pourtant il peut faire ses
courses, partir en vacances... Tout ce qu'il a demandé au
concessionnaire est là. Le concessionnaire était plein de bonne
volonté, il a fait son maximum pour satisfaire son client, a fait de
son mieux, l'a écouté, a tenté d'y mettre du sien et d'ajouter des
options qu'il pense indispensables ou confortables. On ne va pas l'en
blâmer !</P>
<P>Imaginez ça maintenant : <STRONG>ce père (ou mère) de famille,
c'est VOUS</STRONG> ! Oui, c'est bel et bien vous, vous qui souhaitez
concevoir un produit informatique, un logiciel, un intranet, une
application mobile... Vous voilà parti avec une superbe idée,
rentable, révolutionnaire !&nbsp; Et vous vous retrouvez finalement
avec un produit coûteux, livré en retard, voire parfois totalement
inadapté au marché !</P>
<P>Allez-vous vous en prendre au développeur ? A la société qui a
conçu votre produit ? Au prestataire de service ? N'est-ce pas
plutôt un problème plus général de communication ? Après tout,
chacun est convaincu d'avoir fait de son mieux... N'y avait-il pas un
moyen de faire mieux ? De mieux faire comprendre votre besoin ? De
mieux vous préparer aux éventuels retard, de les limiter ? De
réorienter votre demande en cours de route ?</P>
<P>C'est justement l'objet de ce livre. Bon, nous n'allons
certainement pas vous offrir un moyen magique de réussir un projet
informatique. Non, ça n'existe pas, il n'y a jamais de <EM>silver
bullet</EM>. Rien n'est magique : <STRONG>c'est à vous, et à vous
seul, de faire réussir vos projets informatiques</STRONG>. Par
contre, ce livre peut peut-être vous donner quelques pistes de
réflexion, afin de mettre plus de chances de votre côté.</P>
<H1><A NAME="le-besoin-metier"></A>Chapitre 1 Le besoin métier</H1>
<H2 CLASS="western"><A NAME="ayez-une-vision-de-votre-produit"></A>1.1
Ayez une vision de votre produit</H2>
<P>Votre idée est peut-être géniale, révolutionnaire, utile ou
juste rentable (aucun mal à cela). Elle va peut-être changer le
monde, ou plus modestement faciliter le quotidien de pas mal de
monde.&nbsp;</P>
<P>Pensez au premier téléphone portable : en voilà un produit qui
a changé bien des choses; impossible aujourd'hui d'imaginer vivre
sans : sans accès à votre boîte mail, sans appareil photo, sans
sms, sans carnet de contacts... Mais, attendez, le premier téléphone,
il ne faisait pas tout ça ! Non, rappelez-vous, un téléphone
portable, à la base, ça sert à pouvoir téléphoner n'importe où.&nbsp;</P>
<P>Tout le reste, c'est utile, pratique, génial, sans doute
indispensable au quotidien, bref, c'est tout autant révolutionnaire.
Mais si on doit définir le téléphone portable en quelques mots,
c'est &quot;juste&quot; un moyen d'échanger vocalement et
instantanément de l'information entre deux intervenants, où qu'ils
soient dans le monde.</P>
<P>Votre produit est pareil : <STRONG>il doit pouvoir se définir en
une courte phrase</STRONG>, et en fait ne sert qu'à une chose. Si
si, tout le reste est utile commercialement, esthétiquement,
fonctionnellement... Mais votre produit possède un coeur, et la
première chose à faire est de l'identifier.</P>
<P>Cela vous permettra de savoir vraiment ce dont vous avez besoin.
Si vous demandez au père de famille. dont nous parlions plus haut,
de décrire sa voiture, il va peut-être dire qu'il veut un break
Citroen de 120 chevaux gris métallisé, avec 5 portes. Il sait ce
qu'il veut... Pourtant il oublie l'essentiel : la voiture doit lui
permettre de se rendre d'un point A à un point B.</P>
<P>Oui, c'est évident : une voiture permet de se déplacer. Mais
pourtant, évident ou pas, une voiture, ce n'est rien d'autre, c'est
ce qui reste une fois qu'on a enlevé tout le reste : retirez la
climatisation, la peinture métallisée, le cuir... Il nous reste le
coeur de la voiture, ni plus ni moyen qu'un moyen de locomotion.</P>
<P>Allez même plus loin, et imaginez une voiture sans moteur ;
est-ce toujours une voiture ? Oui, sans aucun doute, le moteur n'est
qu'un moyen pour cette fin, ultime, de permettre aux gens de se
déplacer : une voiture à cheval n'en reste pas moins une voiture.
Certes, elle n'est peut-être pas optimale, pas rapide, pas jolie,
tout ce que vous voulez... Mais C'EST UNE VOITURE. Et peut-être
moins cher en plus !</P>
<P>Pour votre logiciel, votre intranet, votre application mobile,
c'est pareil : <STRONG>identifiez le coeur de votre produit, ce qui
fait son essence même, ce sans quoi votre produit n'est plus votre
produit, et là vous aurez de bonnes bases pour commencer</STRONG>.</P>
<P>Comme le dit Liz Keogh, <STRONG>chaque projet informatique doit
poursuivre une vision</STRONG>. Cette vision répond souvent à un
besoin économique (réduire des coûts, améliorer la productivité),
voire parfois à des souhaits différents (améliorer le quotidien
des gens, changer les mentalités...). Dans tous les cas, tout ce que
vous allez mettre dans votre produit doit poursuivre cette vision.</P>
<BLOCKQUOTE>Tout ce que vous mettez dans votre produit doit
poursuivre une vision</BLOCKQUOTE>
<H2 CLASS="western"><A NAME="le-bon-produit-est-celui-qui-repond-a-votre-vision"></A>
1.2 Le bon produit est celui qui répond à votre vision</H2>
<P>Quand ils ont conçu Basecamp, un logiciel de gestion de projets
aujourd'hui reconnu et plébiscité, Jason Fried et David Heinemer
avaient une vision : faciliter la vie des différents intervenants
lors de leurs créations de projets. Cette vision est visible partout
dans Basecamp : simple, facile d'accès, rapide et ergonomique, il
facilite réellement la vie de celui qui l'utilise.</P>
<P>Ils auraient pu choisir de concevoir un logiciel riche,
multi-fonction et polyvalent ; ils ne l'ont pas fait. Pourquoi ? Tout
simplement parce que cela n'aurait pas servi leur vision. On pourrait
vouloir un CRM dans Basecamp, ou un intranet, ou tout ce que vous
voulez. Tous ces modules pourraient être forts agréables, utiles et
d'excellents arguments commerciaux. Mais ils ne servent pas la vision
du produit. Et c'est justement pour ça que Basecamp plaît autant :
il ne fait qu'une chose, mais il le fait bien !</P>
<P>Pensez également à ceci : certes Basecamp n'est pas riche
fonctionnellement, mais</P>
<UL>
	<LI><P STYLE="margin-bottom: 0cm">Il est largement suffisant dans
	90% des cas 
	</P>
	<LI><P STYLE="margin-bottom: 0cm">Il a été d'autant moins coûteux
	à concevoir 
	</P>
	<LI><P STYLE="margin-bottom: 0cm">Il a été d'autant plus rapide à
	développer 
	</P>
	<LI><P STYLE="margin-bottom: 0cm">Chaque fonctionnalité a pu être
	testée en profondeur et est fiable 
	</P>
	<LI><P STYLE="margin-bottom: 0cm">Il ne souffre d'aucune complexité
	inutile et est rapide 
	</P>
	<LI><P STYLE="margin-bottom: 0cm">Les équipes de développement se
	sont focalisés sur un domaine fonctionnel simple 
	</P>
	<LI><P>Tout changement ou évolution est simple à mettre en place 
	</P>
</UL>
<P>Tout cela serait impossible si Jason Fried et David Heinemer ne
s'étaient pas focalisés sur leur vision du produit et n'avaient pas
refusé systématiquement d'ajouter des fonctionnalités qui ne
répondent pas à cette vision initiale.</P>
<P>Rappelez-vous : vous êtes le seul maître à bord. C'est à vous
de vous servir de votre vision du produit pour limiter le superflu et
focaliser toute l'énergie disponible (développeurs, serveurs,
graphistes, ergonomes...) sur ce qui répond à cette vision,
autrement dit sur ce qui est vraiment utile.</P>
<H2 CLASS="western"><A NAME="vous-attendez-des-resultats-metiers"></A>
1.3 Vous attendez des résultats métiers</H2>
<P>Vous avez probablement souvent entendu cette expression : ce qui
compte, ce sont les résultats !&nbsp;</P>
<P>Bon, je ne vais pas vous dire que la fin justifie les moyens, pas
du tout. Non, ce que je veux dire, c'est qu'en investissant du temps
et de l'argent dans votre projet, vous ne devez jamais oublier que ce
qui compte ce sont les résultats métiers (ou fonctionnels) de votre
projet. Ces résultats qui justement servent votre vision.</P>
<P>Pensez-y : chaque fonctionnalité, chaque élément d'interface,
chaque bouton, chaque champ de saisie... tout cela doit fournir un
bénéfice à l'utilisateur de votre produit !&nbsp;</P>
<P>Ca peut paraître évident... Mais alors pourquoi consacrer autant
d'énergie sur des choses inutiles fonctionnellement ? Si si, ça
arrive tout le temps ! En tant que développeur j'ai souvent eu
l'occasion de le voir : une grosse partie de mon temps était
consacré à du superflu (gestion des profils utilisateurs hyper
poussée, interfaces graphique à la iGoogle, optimisation prématurée
des performances...), alors même que les fonctionnalités métier
n'étaient pas encore finies, voire même pas spécifiées !</P>
<P>L'énergie dépensée sur un projet doit être corrélée aux
bénéfices que votre produit en tirera pour satisfaire votre vision.
Si, alors que les fonctionnalités métiers ne sont pas pleinement
finies, testées, fiables, éprouvées et ouvertes aux changements,
l'énergie dépensée ne sert qu'à &quot;vendre du rêve&quot;, vous
risquez la catastrophe.&nbsp;</P>
<P>Concevez votre produit, non pas pour le vendre, mais pour qu'il
réponde à un but (votre vision). Si vous y arrivez, vous aurez à
ce moment là en main les meilleurs atouts pour le vendre.</P>
<P>Le bénéfice sera d'autant plus grand que, au lieu de perdre du
temps sur des choses moins utiles, vos développeurs, prestataires ou
la société qui a en charge votre projet vont mieux comprendre votre
besoin, sans se perdre en détails inutiles pour le moment.</P>
<P>En vous focalisant sur les fonctionnalités métiers, vous allez
aussi pouvoir plus rapidement vous confronter au feedback de vos
futurs utilisateurs. Les changements fonctionnels de votre produit
seront ainsi réalisés plus tôt, et donc moins coûteux.</P>
<BLOCKQUOTE>Ne concevez pas votre produit pour le vendre, mais pour
qu'il réponde à un but. Vous aurez alors en main les meilleurs
atouts pour le vendre</BLOCKQUOTE>
<H2 CLASS="western"><A NAME="re-priorisez-souvent-changez-souvent"></A>
1.4 Re-priorisez souvent, changez souvent</H2>
<P>Vous l'avez vu : votre produit doit se focaliser sur ce qui
apporte à un métier, sur ce qui répond à votre vision.&nbsp;</P>
<P>C'est bien beau, mais on en est tous conscients : un aspect métier
peut être essentiel aujourd'hui, mais totalement inutile ou
différent demain ! Comment gérer ces changements dans votre projet
?</P>
<P>Vous vous en doutez, de nombreuses personnes ont tenté de
répondre à cette question. Parmi elles, les (nombreux) auteurs du
Manifeste Agile. Voici certains des principes de ce Manifeste tel
qu'ils sont présentés sur&nbsp; <A HREF="agilemanifesto.org">http://agilemanifesto.org</A>,
qui nous intéressent particulièrement :</P>
<BLOCKQUOTE>&quot;Notre plus haute priorité est de satisfaire le
client en livrant rapidement et régulièrement des fonctionnalités
à grande valeur ajoutée.</BLOCKQUOTE>
<BLOCKQUOTE>Accueillez positivement les changements de besoins, même
tard dans le projet. Les processus Agiles exploitent le changement
pour donner un avantage compétitif au client.</BLOCKQUOTE>
<BLOCKQUOTE>Livrez fréquemment un logiciel opérationnel avec des
cycles de quelques semaines à quelques mois et une préférence pour
les plus courts.&quot;</BLOCKQUOTE>
<P>C'est assez clair : si l'on suit ces principes, largement reconnus
aujourd'hui dans le monde de l'édition logicielle, <STRONG>le
produit doit être confronté le plus tôt possible au monde réel
pour obtenir un feedback régulier des potentiels utilisateurs</STRONG>.</P>
<P>Ce feedback régulier va vous permettre de réorienter votre
produit afin de supprimer, modifier ou ajouter des comportements dans
celui-ci. Vous avez donc besoin de pouvoir re-prioriser certains
éléments, de changer en cours de route le parcours de développement
de votre site, logiciel, application ou intranet.&nbsp;</P>
<P>En un mot : vous avez besoin de confronter votre produit aux
utilisateurs. Plus vous le confronterez souvent, plus votre produit
sera compétitif, et plus vous aurez besoin de faire évoluer votre
produit.</P>
<P>Vous l'avez compris : vous avez besoin de changements tout au long
de la phase de conception de votre produit. Cependant, vous l'avez
sans doute déjà vécu, <STRONG>tout changement dans un produit
informatique est généralement :</STRONG></P>
<UL>
	<LI><P STYLE="margin-bottom: 0cm">long 
	</P>
	<LI><P STYLE="margin-bottom: 0cm">coûteux 
	</P>
	<LI><P STYLE="margin-bottom: 0cm">source d'erreurs et de bugs 
	</P>
	<LI><P>difficile et démoralisant pour les équipes 
	</P>
</UL>
<P>L'idée pour résoudre ces difficultés est assez simple, mais
parfois difficile à mettre en place, comme nous allons le voir.&nbsp;</P>
<H2 CLASS="western"><A NAME="gerez-votre-besoin-de-changements"></A>1.5
Gérez votre besoin de changements</H2>
<P>L'idée du Manifeste Agile pour gérer le changement peut paraître
simple parce qu'il &quot;suffit&quot; (entre autres) de modifier les
cycles de développement de votre produit. Généralement, un produit
est conçu d'un seul bloc : on développe un produit non fini pendant
une période assez longue, et on livre un produit fini (enfin, ça
c'est qu'on espère !) à la fin. Cette méthode implique un effet
tunnel assez long et souvent dévastateur.&nbsp;</P>
<P>Qui ne connaît pas le célèbre tableau de Léonard de Vinci : La
Joconde ? Que se serait-il passé si Léonard de Vinci devait peindre
Mona Lisa comme on travaille généralement sur un projet
informatique ? Cela donnerait à peu près ceci :</P>
<DIV ID="figure-1-1" DIR="LTR">
	<P><IMG SRC="images/mona-lisa-incremential.jpg" NAME="images1" ALIGN=BOTTOM WIDTH=1261 HEIGHT=622 BORDER=0>
		</P>
	<P><STRONG>Figure 1.1</STRONG> Méthodologie classique : le travail
	et découpé en lots, chaque lot est totalement réalisé avant de
	passer à la suite. Le changement fonctionnel en cours de route est
	difficile.</P>
</DIV>
<P>Le travail est tout de suite très fin, et on ne peut le livrer
qu'à la fin... Difficile dans ces conditions d'accepter le
changement !</P>
<P>Maintenant examinez la méthode proposée par les fondateurs du
Manifeste Agile. Les équipes techniques vont travailler en cycles,
itérativement, de manière à livrer régulièrement un produit,
certes moins complet, mais exploitable et sur lequel il est possible
de fournir un feedback.</P>
<P>Le rythme de ces itérations, et leurs objectifs, sont fixés en
accord avec tous (équipes techniques, fonctionnels...), et chacun
s'engage à faire le maximum pour livrer un produit exploitable.
Voici ce que cela donnerait cette fois-ci pour notre cher Léonard :</P>
<DIV ID="figure-1-2" DIR="LTR">
	<P><IMG SRC="images/mona-lisa-iterative.jpg" NAME="images2" ALIGN=BOTTOM WIDTH=1245 HEIGHT=588 BORDER=0>
		</P>
	<P><STRONG>Figure 1.2</STRONG> Méthodologie agile : le tableau
	s'affine petit à petit. Le changement fonctionnel est facile, même
	en cours de route</P>
</DIV>
<P>Bien sûr, un logiciel qui prendra un an à être développé ne
sera pas exploitable commercialement au bout de trois itérations de
deux semaines ! Par contre vous aurez moyen d'obtenir des premiers
retours utilisateurs, et surtout vous allez pouvoir reprioriser et
changer certains éléments en cours de route : la forme du visage ne
vous convient pas ? Faites la changer lors d'une prochaine itération
! Les couleurs sont trop ternes ? Priorisez un changement des
couleurs pour voir ce qu'en pensent vos futurs utilisateurs. Bref,
vous avez compris l'idée !</P>
<P>Les principes agiles sont simples et évidents, mais ils peuvent
être étrangement contre-intuitifs à mettre en place : souvent, les
équipes (techniques et fonctionnels) ont du mal à se détacher de
leurs anciennes pratiques, quant bien même elles adhèrent aux
concepts agiles.</P>
<P>J'ai à plusieurs reprises eu l'occasion de voir des entreprises
adopter des méthodologies agiles trop brusquement, ou d'une manière
inadaptée. Les méthodes agiles ne sont pas un remède miracle à
tous les maux, il serait faux de croire que du jour au lendemain des
équipes peuvent oublier toutes leurs anciennes pratiques et que par
magie vous serez livré à temps et avec un produit fini.</P>
<P>Mais le changement vers l'agilité peut être simple et rapide,
sous deux conditions :&nbsp;</P>
<P><STRONG>vous DEVEZ vous impliquer dans votre projet !</STRONG>
C'est à vous de prioriser, de dire ce qui va, ne va pas,
régulièrement.</P>
<P>Vous devez accepter de vous faire aider : <STRONG>les changements
à adopter ne sont pas que méthodologiques, ils sont aussi
conceptuels</STRONG>. De nombreuses sociétés agiles sauront vous
guider et vous conseiller. Et croyez moi, l'investissement en vaut la
peine, largement !</P>
<H1><A NAME="communiquez"></A>Chapitre 2 Communiquez</H1>
<H2 CLASS="western"><A NAME="adoptez-une-langue-commune"></A>2.1
Adoptez une Langue Commune</H2>
<P>Ce que vous entendez en utilisant un mot peut parfois (souvent !)
être totalement différent de ce qu'une autre personne entend pour
ce même mot. Et c'est encore pire avec les développeurs !</P>
<P>Gardez cela à l'esprit : les développeurs ne parlent pas la même
langue que vous. Lorsque vous parlez &quot;stock&quot;, &quot;produit&quot;
ou &quot;commande&quot;, un développeur pensera &quot;base de
données&quot;, &quot;enregistrement&quot; et &quot;sauvegarde en
base&quot;.</P>
<P>La première chose à faire est donc de constituer avec vos
équipes une Langue Commune. Peu importe le moyen : une feuille
excel, un document word ou un bout de papier feront l'affaire !
L'important&nbsp; est de créer un référentiel commun, souvent
désigné par &quot;Ubiquitus Language&quot;, c'est-à-dire <STRONG>un
moyen d'utiliser une terminologie dont on sait qu'elle est comprise
par tous de la même manière</STRONG>.</P>
<P>Attention, cet Ubiquitus Language, <STRONG>cette Langue Commune ne
doit PAS être élaborée unilatéralement !</STRONG> Instaurez un
dialogue entre toutes les parties prenantes du projet, jusqu'à
déterminer des termes plus importants que les autres. Identifiez
les, puis, en commun, définissez-les. Ne l'oubliez pas : une
définition que vous aurez mis en place tout seul ne voudra peut-être
rien dire pour un développeur.</P>
<P>Dernière chose : ce référentiel commun ne doit porter que sur
le domaine fonctionnel. Il est inutile de créer un référentiel
technique (du moins pas en dehors des équipes techniques) : ce qui
compte ce n'est pas de faire du développement logiciel ; non, ce qui
compte c'est votre produit, vos bénéfices fonctionnels et votre
vision !</P>
<P>Pour synthétiser cette Langue Commune en quelques mots, elle
permet :</P>
<UL>
	<LI><P STYLE="margin-bottom: 0cm">d'éviter un travail de traduction
	entre les tâches techniques et les besoins fonctionnels (le jargon
	métier) 
	</P>
	<LI><P STYLE="margin-bottom: 0cm">que tout le monde &quot;parle&quot;
	votre projet comme vous le &quot;pensez&quot; 
	</P>
	<LI><P>d'éviter de vous retrouver avec des surprises idiotes, dues
	à des incompréhensions sémantiques ou des ambiguïtés. 
	</P>
</UL>
<BLOCKQUOTE>les développeurs ne parlent pas la même langue que vous</BLOCKQUOTE>
<H2 CLASS="western"><A NAME="laissez-la-technique-aux-developpeurs"></A>
2.2 Laissez la technique aux développeurs</H2>
<P>Laissez-moi vous rassurez tout de suite : <STRONG>non, vous n'avez
pas besoin de savoir comment fonctionne techniquement votre produit</STRONG>.
Non, vous n'avez pas à comprendre la terminologie des développeurs.</P>
<P>Mieux ! Vous ne devez SURTOUT PAS comprendre ce que font les
développeurs.</P>
<P>Ça fait maintenant quelques années que je conduis une voiture.
Je sais passer mes vitesses, je comprend comment lire mon tableau de
bord... Mais je ne sais pas, mais alors pas du tout, comment
fonctionne ma voiture. Et croyez-moi, je n'en ai rien à faire !&nbsp;</P>
<P>Je dois vous avouer une chose : quand j'ai une panne, je vais voir
mon garagiste et je lui fais confiance. Quand il m'explique le
problème, je dis des &quot;ah oui ?&quot; avec un air curieux. Mais
je ne comprend rien ! Et tant mieux !</P>
<P>Pourquoi serait-ce différent pour l'informatique ? Mettre les
mains &quot;dans la cambouis&quot; risque :</P>
<UL>
	<LI><P STYLE="margin-bottom: 0cm">de brider vos demandes quand vous
	allez imaginer qu'un point va être techniquement coûteux alors
	qu'il n'en n'est rien 
	</P>
	<LI><P STYLE="margin-bottom: 0cm">de vous faire adopter une angle de
	vue différent (celui des 
	</P>
	<LI><P STYLE="margin-bottom: 0cm">développeurs) au détriment de
	votre vision initiale 
	</P>
	<LI><P STYLE="margin-bottom: 0cm">de laisser le code dominer le
	domaine fonctionnel 
	</P>
	<LI><P>de vous faire perdre votre force fonctionnel 
	</P>
</UL>
<P>Je peux vous le dire : les projets les plus coûteux et les plus
en retard sur lesquels j'ai travaillé ont été initié par
d'anciens développeurs devenus chefs d'entreprise ou fonctionnels.
Naturellement, et on ne peut pas les en blâmer, ils ont tendance à
vouloir comprendre l'implémentation technique de leur produit.&nbsp;</P>
<P>Cependant, cela est très coûteux : tout d'abord l'équipe
technique doit passer beaucoup de temps à expliquer ce qu'elle fait
au lieu d'avancer réellement. Ensuite, elle doit passer du temps
également à monter en compétence le fonctionnel. Enfin, et ce
n'est pas le moindre, cela introduira un sentiment de défiance entre
vous et l'équipe technique, sentiment qui va ralentir et limiter vos
possibilités de créer une Langue Commune et freiner
l'investissement de vos équipes.</P>
<BLOCKQUOTE>Vous ne devez surtout pas comprendre ce que font les
développeurs</BLOCKQUOTE>
<H2 CLASS="western"><A NAME="racontez-votre-produit"></A>2.3 Racontez
votre produit</H2>
<P>Combien de documents sont passés entre vos mains sans que vous ne
les lisiez totalement, partiellement ou pas du tout ? Avouez-le, cela
nous est tous arrivé au moins une fois.&nbsp;</P>
<P>Pourquoi le document que vous fournissez à votre prestataire ne
serait-il pas justement celui-là même qu'il va survoler, ou mal
comprendre ?</P>
<P>Un document word, par exemple, est une excellente base de travail.
Vous pouvez y noter vos réflexions, vous en servir comme
brouillon... Mais pas comme spécification !</P>
<P>Comprenez : votre pensée est ce qu'elle est : mouvante,
changeante, et surtout personnelle. Avec tous les efforts du monde,
vous n'arriverez pas à transmettre l'ensemble de votre pensée par
écrit. Il subsistera toujours de l'interprétation, des non-dits, de
l'implicite... Voire même parfois des contradictions qu'il faudra
lever. C'est normal, comme un projet, une pensée vit et change.</P>
<P>Votre vision, vos besoins, vos spécifications... tout cela doit
faire l'objet d'un échange oral. Racontez votre produit plutôt que
de le décrire. Qu'en pensez-vous ?</P>
<P><STRONG>Votre projet doit être le résultat d'une conversation</STRONG>
: impliquez vous, mais impliquez aussi le testeur, le fonctionnel,
l'ergonome, le graphiste et le développeur. Racontez leur votre
produit, et dialoguez, de telle manière que :</P>
<UL>
	<LI><P STYLE="margin-bottom: 0cm">Ils <STRONG>s'approprient votre
	besoin</STRONG> 
	</P>
	<LI><P STYLE="margin-bottom: 0cm">Ils <STRONG>mettent en évidence
	certaines incohérences</STRONG> le plus tôt possible 
	</P>
	<LI><P STYLE="margin-bottom: 0cm">Ils vous proposent des changements
	(vous restez le seul maître de les accepter ou non) 
	</P>
	<LI><P STYLE="margin-bottom: 0cm">Ils soient impliqués et aient le
	sentiment d'être partie prenante de votre projet 
	</P>
	<LI><P>Ils ne perdent pas de temps à traduire votre message 
	</P>
</UL>
<P>C'est d'ailleurs comme ça que vous allez vous rendre compte que
certains points demeurent obscurs, malgré tous vos efforts. Ce sera
peut-être que ces points sont plus importants que vous ne
l'estimiez, et il sera peut-être utile d'y consacrer plus de temps.</P>
<P>Oubliez donc les spécifications fonctionnelles détaillées
(SFD), et autres joyeusetés qui font la joie du développeur quand
il doit lire un document de 200 pages pour comprendre un besoin qu'il
mettra 20 minutes à implémenter. La documentation est utile, les
SFG, SFD, etc. aussi, mais uniquement quand elle est réservée aux
cas qui le nécessitent vraiment !&nbsp;</P>
<P>Oubliez cette masse de documentation d'autant plus qu'elle va être
un frein à votre besoin de changements : très vite, avec de
nombreux documents, vous allez :&nbsp;</P>
<P>ou bien avoir un décalage conséquent entre vos spécifications
et votre produit (quid des nouveaux arrivants sur le projet ?),</P>
<P>ou bien devoir passer un temps précieux à mettre à jour vos
spécifications à chaque changement. Et ça, croyez-moi, dans la
vraie vie ça n'arrive jamais si vous n'avez pas une ressource dédiée
à cette tâche, à temps plein !</P>
<P>Vous allez le voir, il existe d'autres moyens de préciser votre
besoin. En attendant, oubliez les documents word, pdf, rtf... Et
Initiez la conversation.</P>
<BLOCKQUOTE>Racontez votre produit plutôt que de le spécifier</BLOCKQUOTE>
<H2 CLASS="western"><A NAME="identifiez-le-domaine-fonctionnel"></A>2.4
Identifiez le Domaine fonctionnel</H2>
<P>Vous l'avez vu, vous avez besoin de constituer une Langue Commune
avec vos équipes. Vous le savez également, une image vaut souvent
mieux qu'un long discours... Pourquoi ne pas concilier les deux ?</P>
<P>Il existe une approche, mise en évidence par Eric Evans, pour
faire en sorte le code source (ce qui permet à votre produit de
fonctionner) corresponde de près aux fonctionnalités métiers.
Cette approche, c'est le Domain Driven Design, ou Conception Pilotée
par le Métier.</P>
<P>En général, au fil du temps, les développeurs qui auront
travaillé sur votre projet vont mettre en place ce qu'on appelle
familièrement des &quot;rustines&quot;, des morceaux de code source
rapides à mettre en place mais peu maintenables, destinés à gérer
vos demandes de changements.</P>
<P>Pire, dès le départ, les développeurs vont se focaliser sur les
aspects techniques du projet. Normal me direz-vous ? Non, car s'ils
font cela, l'énergie à dépenser pour comprendre les liens entre le
code source et le besoin fonctionnel risque d'être très importante,
voire tellement importante que votre projet risque de vous mettre sur
la paille à la moindre demande de changement.</P>
<P>Le Domain Driven Design propose une approche différente : les
développeurs vont se focaliser uniquement sur le besoin métier, et
concevoir leur code source autour de ce besoin. Ca peut paraître une
évidence, mais c'est loin d'être le cas, croyez-moi ! Le code
source sera alors le reflet du besoin métier.</P>
<P>Si vous et vos équipes souhaitez mettre en place cette
orientation (du Domain Driven Design), <STRONG>la première chose
dont vous aurez besoin, après une Langue Commune, sera une
cartographie du domaine fonctionnel couvert par votre application</STRONG>.&nbsp;</P>
<P>Rassurez-vous, rien de bien compliqué. Oubliez les logiciels de
modélisation, oubliez Visio, oubliez l'UML, Merise (si vous les avez
déjà utilisés), voici venue l'ère ... du papier et du crayon !</P>
<P>Listez, puis représentez sur un dessin simple, l'ensemble des
grands concepts fonctionnels liés à votre produit (ceux qui sont
présents dans votre glossaire, votre Langue Commune). Reliez-les
entre eux par de flèches annotées, qui représenteront les
différentes interactions de ces concepts entre eux. S'il y a trop de
flèches à un endroit, c'est que vous vous attardez trop sur des
détails. Si vous pensez que ce ne sont pas des détails, prenez une
autre feuille et redémarrez, mais cette fois en zoomant sur la
partie concernée.</P>
<P>Cette cartographie, qui doit être simple (en caricaturant un peu,
disons que votre neveu de huit ans devrait pouvoir la comprendre s'il
connaît votre Langue Commune !), sera le <STRONG>référentiel du
Comportement de votre Produit</STRONG>.</P>
<P>Ce comportement étant désormais identifié, il sera plus facile
pour les équipes d'appréhender les changements et d'en identifier
les conséquences.</P>
<P>Cette cartographie vous sera utile à vous aussi : elle va vous
permettre d'identifier l'indispensable, l'utile et le pratique dans
votre produit. Vos équipes ne doivent commencer à travailler sur
l'indispensable. L'utile et le pratique viendront après.</P>
<BLOCKQUOTE>Prenez un papier et un crayon, puis faites la
cartographie fonctionnelle de votre Produit</BLOCKQUOTE>
<H2 CLASS="western"><A NAME="faites-vous-interviewer"></A>2.5
Faites-vous interviewer</H2>
<P>Mais attention, cette cartographie fonctionnelle, en réalité...
ce n'est pas à vous de la faire !</P>
<P>Pourquoi donc cet air surpris sur votre visage ? Si si, je vous
assure, ce n'est pas à vous de la réaliser, mais rassurez-vous,
vous en serez le moteur.</P>
<DL>
	<DT>Concrètement, vous devez dans un premier temps discuter avec
	vos 
	</DT><DT>
	développeurs, mais surtout ceux-ci doivent réaliser un travail
	d'enquête 
	</DT><DD STYLE="margin-bottom: 0.5cm">
	vos développeurs doivent vous interviewer.&nbsp; 
	</DD></DL>
<P>
Ou plutôt ils doivent interviewer le Produit. Après tout... vous
êtes le porte-parole de votre produit.</P>
<P>Cet interview, comme une interview classique va consister en
différents moments :</P>
<UL>
	<LI><P STYLE="margin-bottom: 0cm">présentation générale d'un
	aspect fonctionnel 
	</P>
	<LI><P STYLE="margin-bottom: 0cm">une question de l'équipe
	technique sur un point abordé 
	</P>
	<LI><P STYLE="margin-bottom: 0cm">votre réponse fonctionnelle 
	</P>
	<LI><P STYLE="margin-bottom: 0cm">une nouvelle question de l'équipe
	technique 
	</P>
	<LI><P>etc. 
	</P>
</UL>
<P>Attention, l'interview ne doit jamais dériver sur des aspects
techniques. Il sera largement temps plus tard de voir comment
résoudre techniquement tel ou tel point. Pour l'instant, ne discutez
QUE du fonctionnel.</P>
<P>Cette démarche a au moins trois avantages :</P>
<UL>
	<LI><P STYLE="margin-bottom: 0cm">impliquer les équipes techniques
	sur votre besoin métier 
	</P>
	<LI><P STYLE="margin-bottom: 0cm">mettre en évidence des aspects
	implicites, qui sont évidents pour une personne du métier, mais
	totalement inconnus des équipes techniques 
	</P>
	<LI><P>vous permettre de prendre du recul sur votre métier et votre
	besoin en l'expliquant à des néophytes. 
	</P>
</UL>
<H2 CLASS="western"><A NAME="les-taches-ne-servent-a-rien"></A>2.6
Les tâches ne servent à rien</H2>
<P>Vous voulez que vos développeurs développent une nouvelle
fonctionnalité ? Ne leur donnez pas de tâche à faire ! N'exprimez
que votre besoin...</P>
<P>Imaginez un instant cette scène : vous re-voila chez votre
concessionnaire automobile, prêt à signer le chèque de votre
nouvelle voiture. A votre avis, des deux situations suivantes,
laquelle est la plus adaptée :</P>
<UL>
	<LI><P>Situation 1 :</P>
	<BLOCKQUOTE>Client : &quot;J'ai besoin de la voiture le mois
	prochain. Il vous faudra donc passer commande auprès du
	constructeur. Pour cela vous disposez du logiciel mis à disposition
	par ce dernier. Entrez vos codes d'accès, puis saisissez la
	référence de la voiture, puis cliquez sur &quot;Commander&quot;.
	Dès que vous recevez la voiture, faites un bilan complet, puis
	appelez-moi.&quot;</BLOCKQUOTE>
	<LI><P>Situation 2 :</P>
	<BLOCKQUOTE>Client : &quot;J'ai besoin de ma voiture le mois
	prochain, je sais que vous ferez le maximum. Tenez moi simplement
	régulièrement informé de l'avancée de la commande...&quot;</BLOCKQUOTE>
</UL>
<P>Alors, à votre avis, quelle situation est la plus adaptée ? La
deuxième sans doute, non ? Examinons la Situation 1 : que se passe
t-il si le concessionnaire appelle directement le constructeur pour
commander votre voiture plutôt que de respecter les tâches qui lui
sont assignées...</P>
<P>Quel en sera le résultat ?</P>
<UL>
	<LI><P STYLE="margin-bottom: 0cm">Vous serez livré plus vite 
	</P>
	<LI><P STYLE="margin-bottom: 0cm"><STRONG>Les objectifs seront
	atteints</STRONG> 
	</P>
	<LI><P><STRONG>Pourtant le concessionnaire n'aura pas accompli les
	tâches demandées</STRONG> 
	</P>
</UL>
<P>Je pense que vous avez compris : peu importe ce que va faire votre
concessionnaire, ce qui compte c'est d'être livré à temps. Pire,
vous risquez d'embrouiller le concessionnaire ou de le mettre sur des
fausses pistes. Avec une liste de tâches à suivre, le
concessionnaire ne pourrait pas prendre l'initiative d'appeler
directement le constructeur automobile.&nbsp;</P>
<P>Et bien pour le développeur c'est pareil. <STRONG>Exprimez votre
besoin, les délais souhaités, les modalités, mais ne lui dite pas
comment réaliser ce besoin</STRONG>, vous risquez de le mettre sur
de fausses pistes.</P>
<P>Attention, les listes de tâches sont utiles bien entendus, mais
pas pour communiquer. Vous pouvez avoir votre liste de tâches, les
équipes de développement vont peut-être (sans doute !) transformer
votre besoin en sous-tâches techniques... Mais en aucun cas vous
n'avez besoin de communiquer avec des tâches à faire. Le dialogue
ne doit porter que sur votre besoin métier.</P>
<BLOCKQUOTE>Communiquer en liste de tâches ne sert à rien, le
dialogue ne doit porter que sur le besoin métier.</BLOCKQUOTE>
<H1><A NAME="impliquez-les-parties-prenantes"></A>Chapitre 3
Impliquez les parties prenantes</H1>
<H2 CLASS="western"><A NAME="un-projet-est-comme-un-film"></A>3.1 Un
projet est comme un Film</H2>
<P>Drôle de titre, n'est-ce pas ? Pourtant on peut le dire, un
projet informatique, c'est comme un film : on peut prendre plaisir à
le tourner, y apprendre des choses, mais l'essentiel reste que ce
film voit le jour.</P>
<P>Faisons un jeu : quel est le point commun à tous les films, films
d'animation, court-métrages ? Tic-tac, tic-tac... Driiing ! Réponse
: ils ont tous un générique, c'est à dire une liste des
différentes personnes qui y ont travaillé, classées par rôle.</P>
<P>Et bien dans un projet informatique c'est pareil, il existe des
rôles. Il peut arriver que certaines personnes aient plusieurs
rôles, selon la taille du projet, mais il est indispensable de
définir les domaines de compétence nécessaires à la bonne tenue
de votre projet.</P>
<P>En général, voici les rôles qui seront associés à votre
projet :</P>
<OL>
	<LI><P>Le <STRONG>Propriétaire du produit</STRONG> : Personne qui
	fournit la Vision du produit. Est souvent celui qui finance le
	projet.</P>
	<LI><P>Les <STRONG>Alliés du produit</STRONG> : Personnes qui
	soutiennent et aident fonctionnellement le Propriétaire du produit.
	Elles peuvent avoir un impact sur le Produit</P>
	<LI><P>Les <STRONG>Analystes fonctionnels</STRONG> : Personnes qui
	déterminent les solutions fonctionnelles à apporter pour répondre
	à la Vision du Propriétaire dur Produit</P>
	<LI><P>Les <STRONG>Ergonomes</STRONG> : Personnes qui déterminent
	l'ergonomie la plus adaptée pour mettre en place les solutions
	fonctionnelles auprès des utilisateurs ciblés par le Produit</P>
	<LI><P>Les <STRONG>Graphistes</STRONG> : Personnes en charge
	d'améliorer l'aspect visuel ou d'appliquer des solutions proposées
	par les Ergonomes</P>
	<LI><P>Les <STRONG>Testeurs</STRONG> : Personnes en charge de la
	recette applicative de premier niveau</P>
	<LI><P>Les <STRONG>Développeurs</STRONG> : Personnes en charges de
	l'implémentation technique des solutions proposées par les
	Analystes fonctionnels</P>
</OL>
<P>Bien, ça, c'est dit. Bien entendu, il est fréquent que certains
de ces rôles se chevauchent, le plus souvent pour des raisons de
coût : l'ergonome est graphiste, l'analyste fonctionnel est
propriétaire du produit, etc.</P>
<P>Dans tous les cas, ces rôles doivent dialoguer entre eux, puisque
chacun a son rôle à jouer dans la réalisation du Produit. Gardez
ce découpage en tête, il est important pour la suite.</P>
<BLOCKQUOTE>Les Partie-prenantes sont au Produit ce que les acteurs
sont au Film : chacun joue un rôle différent, mais tous mettent en
scène la Vision de ce qu'ils produisent</BLOCKQUOTE>
<H2 CLASS="western"><A NAME="devenez-spectateur-un-instant"></A>3.2
Devenez spectateur un instant</H2>
<P>Votre produit est destiné à être vendu, que ce soit
financièrement auprès de vos clients, ou commercialement auprès de
vos utilisateurs. En général, c'est vous qui présenterez votre
Produit, par le biais de réunions commerciales, de plaquettes
publicitaires, ou que sais-je encore.</P>
<P>Mais avez-vous pensé à laisser vos développeurs faire cette
présentation ? Pas de panique, <STRONG>je ne vous parle pas
d'envoyer un geek barbu auprès de vos prospects et investisseurs</STRONG>,
non. Non, je vous propose de laisser vos développeurs vous faire une
présentation à vous, le propriétaire du produit.</P>
<P>L'idée est la suivante : on l'a vu, il est plus pratique de
travailler par itérations successives pour votre projet. À la fin
de chaque itération, vos collaborateurs doivent être capables de
vous fournir une version exploitable de votre produit. <STRONG>Pourquoi
dans ce cas ne vous feraient-ils pas la démonstration de ce qu'ils
ont à vous livrer ?</STRONG></P>
<P>C'est assez classique dans les préceptes agiles : à la fin de
chaque cycle l'équipe technique va vous présenter ce qu'elle vous
propose, et ce pour différentes raisons :</P>
<P>cela vous permet de valider votre demande initiale</P>
<P>cela permet d'impliquer l'équipe technique dans la bonne marche
fonctionnelle de votre produit</P>
<P>cela permet aux acteurs de votre projet d'éprouver régulièrement
de la satisfaction personnelle en réussissant à vous livrer dans
les temps quelque chose qui fonctionne</P>
<P>Une simple présentation d'une heure, pourquoi pas un vendredi sur
deux, par l'équipe technique, vous permet donc d'impliquer dans
votre projet les plus réfractaires : les développeurs. Pourquoi ne
pas l'adopter ?</P>
<P>Bien entendu, encore une fois, ce n'est pas une recette miracle.
Mais l'accumulation des ces instants d'échange et de dialogue ne
peut que faciliter votre projet.</P>
<BLOCKQUOTE>Laissez l'équipe technique vous faire une démonstration
à chaque cycle.</BLOCKQUOTE>
<H2 CLASS="western"><A NAME="tous-les-acteurs-ont-des-bonnes-idees"></A>
3.3 Tous les acteurs ont des bonnes idées</H2>
<P>Un film, c'est avant tout un réalisateur, qui insuffle l'âme du
film, sa Vision. Pourtant il est très fréquent que de bonnes idées
proviennent d'acteurs : des improvisations, des échanges, des
contestations, des propositions...&nbsp;</P>
<P>Les bonnes idées peuvent venir de partout. Qu'elles soient
fonctionnelles, ergonomiques, esthétiques... vous devez écouter ces
idées, les assimiler et, si certaines vous semblent pertinentes et
en accord avec votre vision, les implémenter.</P>
<P>Après tout, votre spécialité c'est la connaissance du domaine
fonctionnelle. Votre produit peut répondre à un besoin de bien des
manières, et même d'une façon que vous n'avez pas encore imaginée.</P>
<P>Vos développeurs ne connaissent pas à la base votre besoin
fonctionnel, mais leur métier les amène a observer et comprendre
une multitude de manières de répondre à un problème. Chaque site
internet qu'ils visitent répond à une problématique, chaque site a
une approche différente des problèmes, et eux-mêmes sont
utilisateurs de produits.&nbsp;</P>
<P>Restez maître de votre Produit, mais, après tout, ce qui compte
c'est de rendre service, au mieux, à vos utilisateurs. Prenez les
bonnes idées là où elles sont...</P>
<H1><A NAME="exprimez-votre-besoin"></A>Chapitre 4 Exprimez votre
besoin</H1>
<H2 CLASS="western"><A NAME="tous-la-meme-grammaire"></A>4.1 Tous la
même grammaire</H2>
<P>Les spécifications classiques, on l'a vu, échouent souvent :
elles acceptent mal le changement, sont souvent lourdes et ne
concernent pas toujours que le besoin métier.</P>
<P>Pour remédier à cela, il est possible d'utiliser une autre
approche, celle préconisée par le Développement Piloté par le
Comportement.</P>
<P>&quot;Quel terme barbare !&quot; me direz-vous. C'est vrai. Mais
en fait rien de technique ou de geek derrière ce terme. C'est
simplement une démarche qui consiste à communiquer avec vos
développeurs d'une autre manière, de sorte qu'il vous comprennent.</P>
<P>C'est cette démarche que je vous propose de découvrir à partir
de maintenant.</P>
<P>Cette approche a au moins trois avantages :</P>
<UL>
	<LI><P STYLE="margin-bottom: 0cm">L'écrit sert à la fois à
	spécifier et à échanger avec les équipes 
	</P>
	<LI><P STYLE="margin-bottom: 0cm">Le changement est mieux géré 
	</P>
	<LI><P>Vous savez à tout instant ce qui est fait et ce qu'il reste
	à faire 
	</P>
</UL>
<P>Pour au moins un inconvénient :</P>
<UL>
	<LI><P>L'investissement et la disponibilité du Propriétaire du
	Produit doivent être importants 
	</P>
</UL>
<P>Cette approche se base sur la rédaction des spécifications sous
un formalisme différent, dénommé généralement Gherkin. Ce
formalisme n'est pas obligatoire, mais il a été prouvé à
plusieurs reprises qu'il est pratique et répond bien aux
problématiques que vous rencontrerez probablement.</P>
<P>Si vous souhaitez faire du Développement Piloté par le
Comportement (Behaviour Driven Development en anglais, ou BDD),
chaque acteur de votre projet doit apprendre à lire et à comprendre
ce formalisme. Pas de panique, le coût d'apprentissage est quasi nul
; c'est justement l'un des nombreux atouts de Gherkin.</P>
<H2 CLASS="western"><A NAME="decrivez-vos-fonctionnalites-metiers"></A>
4.2 Décrivez vos Fonctionnalités métiers</H2>
<P>Vous avez votre Vision du Produit, il est temps d'expliquer ce que
vous attendez aux développeurs.</P>
<P>Rien de plus simple : commencez par identifier les aspects
fonctionnels que vous souhaitez qu'ils développent, et ce en les
décrivant avec une courte phrase. Juste une phrase, courte, pas
plus. Cette phrase sera le titre de votre fonctionnalité.</P>
<P><STRONG>Chaque fonctionnalité doit pouvoir se distinguer des
autres par son titre</STRONG>. Prenez les fonctionnalités suivantes
:</P>
<PRE># Distinguez vos fonctionnalités en leur donnant un titre :
Fonctionnalité : Retirer de l’argent au distributeur
Fonctionnalité : Consulter le solde de son compte au distributeur</PRE><P>
Il est facile de les distinguer et de les comprendre non ?</P>
<P>Identifier clairement ces fonctionnalités est important : cela
vous permettra de les prioriser plus facilement.</P>
<P>Bon, vous allez me dire qu'une petite phrase de rien du tout ça
lasse la place à beaucoup d'ambiguïtés ; et vous aurez bien raison
!</P>
<P>Vous le savez, un Produit n'est rien sans un utilisateur pour
l'utiliser. <STRONG>Précisez donc qui est l'utilisateur de votre
fonctionnalité</STRONG> :</P>
<PRE># Précisez qui est l’acteur bénéficiaire de votre fonctionnalité :
En tant que rôle
En tant que administrateur du site
En tant que conseiller clientèle
En tant que ...</PRE><P>
Voilà une bonne chose de faite ! <STRONG>Identifiez maintenant le
Service rendu par votre fonctionnalité</STRONG>. Je conseille
toujours de voir le service comme ni plus ni moins ce que votre
commercial entend lorsqu'il dit &quot;c'est génial, en tant que ...
vous pouvez faire ça !&quot;. Par exemple :</P>
<PRE># Identifiez le service délivré par votre fonctionnalité à l’utilisateur :
Je veux un service rendu
Je veux retirer de l’argent au distributeur
Je veux connaître la quantité d’argent qu’il me reste sur mon compte
Je veux ...</PRE><P>
On commence déjà à y voir plus clair. <STRONG>Il ne reste plus
qu'à préciser le bénéfice métier</STRONG> de votre
fonctionnalité. Car oui, une fonctionnalité sans bénéfice pour
l'utilisateur ne sert à rien. Si vous ne voyez pas de bénéfice
pour votre fonctionnalité, c'est qu'elle ne mérite pas d'être
développée. Décrivez ce bénéfice ainsi :</P>
<PRE># Décrivez le bénéfice fonctionnel obtenu par votre fonctionnalité :
De telle sorte que bénéfice attendu
De telle sorte que je puisse obtenir de l’argent même quand la banque est fermée
De telle sorte que ...</PRE><P>
Ce qui fait que <STRONG>toute fonctionnalité peut être décrite, de
manière explicite, en quatre courtes lignes</STRONG> :</P>
<PRE>Fonctionnalité : Retirer de l’argent au distributeur
    En tant que client de la banque
    Je veux retirer de l’argent au distributeur
    De telle sorte que je puisse obtenir de l’argent même quand la banque est fermée</PRE><P>
N'importe quel membre de votre équipe comprendra ce qu'est cette
fonctionnalité. N'oubliez de n'employer que le vocabulaire de votre
Langue Commune pour éviter toute ambiguïté.</P>
<H2 CLASS="western"><A NAME="des-scenarios-pour-vos-fonctionnalites"></A>
4.3 Des scénarios pour vos fonctionnalités</H2>
<P>Un titre, un rôle, le service rendu et le bénéfice métier
c'est déjà pas mal. Mais en général ça ne va pas suffire : vous
pouvez avoir envie d'illustrer vos fonctionnalités.</P>
<P>C'est le rôle des scénarios. <STRONG>Chaque fonctionnalité peut
contenir un ensemble de scénarios. Ces scénarios doivent tous être
clairs, uniques et explicites</STRONG>. Ils représentent le
comportement concret que vous attendez pour votre fonctionnalité.
Par exemple :</P>
<PRE># Un Scénario est une situation concrète de votre Fonctionnalité :
Fonctionnalité : Retirer de l’argent au distributeur
Scénario : Retirer de l’argent avec une carte valide
Scénario : Retirer de l’argent avec une carte expirée
Scénario : Retirer de l’argent sur un distributeur qui ne contient
  plus d’argent
Scénario : ...</PRE><P>
La réalisation ou non de ces scénarios détermine l'avancée de
votre fonctionnalité.</P>
<P>Il est possible que ces scénarios évoluent : certains seront
réalisés tôt, d'autres seront réalisés plus tard ou seront
modifiés... Dans tous les cas, <STRONG>jeter un oeil à l'avancée
de ces scénarios vous permettra de maîtriser l'avancée de votre
fonctionnalité</STRONG>.</P>
<P>Vous vous en doutez, il peut arriver qu'une simple phrase ne
suffise pas à décrire avec précision un scénario. Il sera alors
temps d'y introduire un contexte, un événement déclencheur ou un
résultat attendu.</P>
<P>Le contexte du scénario est introduit par &quot;étant donné&quot;.
Il situe les conditions d'existence de votre scénario :</P>
<PRE># Un Scénario s’inscrit dans un contexte, une situation initiale :
Scénario : ...
    Etant donné que tel contexte existe
    Etant donné que que je n’ai plus d’argent sur mon compte
    Etant donné que ma carte est expirée
    Etant donné que ...</PRE><P>
Toute interaction de l'utilisateur avec votre produit peut se
traduire sous forme d'événement. Un événement est le déclencheur
de votre scénario, qui vient juste après que le contexte initiale
soit situé :</P>
<PRE># Un Scénario se démarque par un événement :
Scénario : ...
    ...
    Quand tel événement déclencheur survient
    Quand je demande à retirer de l’argent
    Quand je demande le solde de mon compte
    Quand ...</PRE>
<DL>
	<DT>
	Si chaque action a une conséquence, il en va de même pour les
	événements 
	</DT><DD STYLE="margin-bottom: 0.5cm">
	chaque événement attend un résultat, exprimé par &quot;alors&quot;
	: 
	</DD></DL>
<PRE># Chaque Scénario aboutit à un résultat :
Scénario : ...
    ...
    Alors tel résultat est attendu
    Alors je reçois 20 euros
    Alors ma carte est aspirée
    Alors ...</PRE><P>
Toute cette syntaxe, qui permet de rendre vos fonctionnalités
explicites, sera comprise par vos développeurs. Et en plus elle
n'est pas très compliquée, si ?</P>
<P>Au final, voici une fonctionnalité plus complète :</P>
<PRE># Toute personne qui connaître votre Langue Commune comprend
# votre fonctionnalité :
Fonctionnalité : Retirer de l’argent au distributeur
    En tant que client de la banque
    Je veux retirer de l’argent au distributeur
    De telle sorte que je puisse obtenir de l’argent
      même quand la banque est fermée
Scénario : Retirer de l’argent avec une carte valide et un
  compte approvisionné
    Etant donné que je détiens un compte bancaire soldé de 100 euros
    Et que ma carte expire l’an prochain
    Quand je demande à retirer 20 euros
    Alors je reçois 20 euros
    Et ma carte m’est restituée
Scénario : Retirer de l’argent avec une carte expirée
    Etant donné que ma carte est expirée
    Quand je demande à retirer 20 euros
    Alors ma carte est aspirée</PRE><H2 CLASS="western">
<A NAME="illustrez-le-tout-avec-des-exemples"></A>4.4 Illustrez le
tout avec des exemples</H2>
<P>Ce formalisme est utile. Il n'est en aucun cas obligatoire bien
entendu, mais il a démontré son efficacité, et a l'énorme
avantage d'être <STRONG>clair tout autant pour les fonctionnels que
pour les développeurs.</STRONG></P>
<P>Maintenant, ce formalisme peut manquer de concret. Qu'à cela ne
tienne, vous pouvez y ajouter vos exemples. Car on est bien
d'accords, <STRONG>rien de mieux que des exemples</STRONG>. Prenons
celui-ci :</P>
<PRE STYLE="margin-bottom: 0.5cm"># Votre fonctionnalité peut contenir un exemple :
Scénario : Retirer de l’argent avec un compte approvisionné
    Etant donné que ma carte expire l’an prochain
    Quand je demande à retirer &quot;20&quot; euros
    Alors je reçois &quot;20&quot; euros</PRE><P>
Bon, c'est simple, mais limité, car cela nous oblige à recopier le
scénario autant de fois que nous avons d'exemples. Heureusement,
notre grammaire est riche, et vous pouvez utiliser la syntaxe
suivante (votre scénario devient alors un Plan de scénario) :&nbsp;</P>
<PRE STYLE="margin-bottom: 0.5cm"># Votre fonctionnalité peut contenir plusieurs exemples facilement :
Plan de Scénario : Retirer de l’argent avec un compte approvisionné
    Etant donné que ma carte expire l’an prochain
    Quand je demande à retirer &quot;&lt;montant-demandé&gt;&quot; euros
    Alors je reçois &quot;&lt;montant-reçu&gt;&quot; euros
Exemples :
    | montant-demandé   | montant-reçu  |
    | 20                | 20            |
    | 1000              | 1000          |
    | 50                | 50            |</PRE><P>
Pratique non ? Les symboles &lt; et &gt; indiquent une valeur
d'exemple, à rechercher dans le tableau juste en dessous.</P>
<H2 CLASS="western"><A NAME="travaillez-en-equipe"></A>4.5 Travaillez
en équipe</H2>
<P>Vous être maître de votre Produit, et c'est vous qui décidez de
vos Fonctionnalités. Par contre, n'oubliez pas que <STRONG>le
dialogue et l'échange sont primordiaux pour éviter les ambiguïtés
dans votre projet</STRONG>.</P>
<P>Lorsque vous allez rédiger vos scénarios, voici ce qui risque de
se passer :</P>
<P>Vous allez devoir les expliquer à votre équipe technique lorsque
vous les leur fournirez</P>
<P>Vous n'allez peut être pas penser à tout, et vos équipes
devront vous solliciter très (trop) régulièrement pour des aspects
que vous aurez oublié</P>
<P>Certains de vos scénarios ne seront pas clairs ou n'emploieront
pas le vocabulaire de la Langue Commune (on a toujours tendance à se
trouver soi-même très clair ; ce n'est pas toujours vrai...)</P>
<P>L'équipe risque de ne pas se sentir suffisamment impliquée</P>
<P>Ces écueils ne sont bien sûr systématiques, mais le risque est
là. Pourquoi prendre ce risque alors que la solution est simple ?</P>
<P>Il suffit en effet de faire participer toutes les équipes lors de
la rédaction des scénarios. Attention, il ne s'agit pas de laisser
n'importe qui faire n'importe quoi... Non, <STRONG>c'est a vous
d'expliquer votre besoin</STRONG>, dans la Langue Commune, et <STRONG>ensuite
vous allez ensemble le traduire en scénarios</STRONG>, de telle
sorte que tous comprennent clairement ce que vous attendez d'eux.</P>
<P>Pour résumé, écoutez les remarques de vos équipes lors de la
rédaction des scénarios. Idéalement, vous devriez entendre des
&quot;oui mais qu'est-ce qui se passe si...&quot; et &quot;je ne
comprend ce que devient...&quot;. Si c'est le cas, le pari est réussi
!</P>
<P>Dans tous les cas, gardez vos scénarios clairs et concis.
Personne n'a envie de lire des scénarios de 20 ou 30 lignes...</P>
<BLOCKQUOTE>&quot;Ecrivez vos scénarios avec l'équipe technique ;
le temps passé sera compensé par le gain de compréhension et
l'inutilité d'avoir à faire des va-et-vient incessants au cours du
développement&quot;</BLOCKQUOTE>
<H2 CLASS="western"><A NAME="des-assistants-visuels"></A>4.6 Des
assistants visuels</H2>
<P>Vous aviez déjà le vocabulaire (la Langue Commune), vous voici
désormais avec la grammaire nécessaire pour exprimer votre besoin.
Mais on est tous les mêmes : on n'aime pas la grammaire.</P>
<P>Après tout, si votre véritable objectif est de vous focaliser
sur l'expression de votre besoin, sur la description du comportement
de votre Produit, à quoi bon se concentrer sur la manière de
l'exprimer ?</P>
<P>Pour vous simplifier la vie il existe un certain nombre d'outils
qui vont vous assister dans la&nbsp; rédaction de vos
Fonctionnalités. Ils vont vous permettre de rédiger vos features
selon une approche plus agréable, tandis même qu'ils vont présenter
à vos développeurs votre besoin sous forme de fichiers clairs
qu'ils pourront directement exploiter.</P>
<DIV ID="figure-4-1" DIR="LTR">
	<P><IMG SRC="images/behat-wizard-edit.jpg" NAME="images3" ALIGN=BOTTOM WIDTH=954 HEIGHT=748 BORDER=0>
		</P>
	<P><STRONG>Figure 4.1</STRONG> Il existe des assistants visuels pour
	faciliter votre expressionde besoin</P>
</DIV>
<P>Il existe plusieurs outils, qui ont tous leurs avantages. On peut
penser par exemple à BehatViewer, ou à BehatWizard... N'hésitez
pas à demander vos équipes techniques de vous installer ces outils.</P>
<H1><A NAME="un-peu-de-recul-sur-le-developpement-pilote-par-le-comportement"></A>
Chapitre 5 Un peu de recul sur le Développement piloté par le
Comportement</H1>
<H2 CLASS="western"><A NAME="votre-fonctionnalite-se-specifie-elle-meme"></A>
5.1 Votre fonctionnalité se spécifie elle-même</H2>
<P>Vous savez désormais décrire votre besoin dans une Langue et une
grammaire compréhensible par tous les acteurs de votre projet.</P>
<P>Vous avez peut-être déjà rencontré cette difficulté : au
fur-et-à-mesure de la vie d’un projet, la documentation, fruit
d’un travail difficile et chronophage, se détache généralement
de la réalité.</P>
<P>Cette difficulté a en réalité une origine simple : lorsque l’on
ajoute une nouvelle fonctionnalité, mettre à jour la documentation
prend parfois plus de&nbsp; temps que la réalisation même de la
fonctionnalité.</P>
<P>Maintenant, examinez ceci : avec le Développement piloté par le
Comportement, c’est-à-dire grâce à la Langue Commune, grâce une
grammaire spécifique, la documentation fonctionnelle est écrite en
même temps que les spécifications. Et oui! Vos Fonctionnalités
sont aussi de la documentation.</P>
<P>Il est assez facile d’imaginer, par exemple, prendre l’ensemble
de vos fichiers de Fonctionnalités et les transformer en un fichier
.pdf, ou encore d’en faire un manuel en ligne.</P>
<P>Bien plus, aucun changement fonctionnel de code source ne peut
être réalisé sans que l’un de vos fichiers de Fonctionnalités&nbsp;
n’ait été modifié. C’est le principe même du Développement
piloté par le Comportement : vous ne pouvez pas avoir de delta entre
votre expression de besoin et ce que vos développeurs vous
livreront.</P>
<P>Par conséquent, vous l’aurez compris, vous avez ainsi un énorme
avantage :&nbsp; <STRONG>les Fonctionnalités que vous avez
constituées&nbsp; reflètent en permanence l’état réel de votre
Produit</STRONG>.&nbsp;</P>
<P>Si ce n'est pas le cas, c'est :</P>
<UL>
	<LI><P STYLE="margin-bottom: 0cm">que vous avez modifié votre
	Fonctionnalité sans en rédiger les Scénarios directement avec
	l'équipe technique. Votre erreur sera d'avoir rompu le dialogue
	avec vos équipes, 
	</P>
	<LI><P>ou que les équipes n'auront pas encore réalisé votre
	demande de changement. Il faudra dans ce cas prioriser ce changement
	parmi l'ensemble de fonctionnalités qu'ils ont à développer. 
	</P>
</UL>
<H2 CLASS="western"><A NAME="servez-vous-de-vos-fonctionnalites-pour-prioriser"></A>
5.2 Servez-vous de vos fonctionnalités pour prioriser</H2>
<P>Pensez à ceci : vous pouvez si vous le souhaitez associer un état
à chacun de vos fonctionnalités et scénarios. Par exemple :</P>
<UL>
	<LI><P STYLE="margin-bottom: 0cm">En attente 
	</P>
	<LI><P STYLE="margin-bottom: 0cm">En cours de développement 
	</P>
	<LI><P>Réalisé 
	</P>
</UL>
<P>Vous verrez qu'il existe des outils pour vous aider dans cette
tâche. Grâce à ces indicateurs, vous disposez de la possibilité
de visualiser à chaque instant l'état de votre produit.</P>
<P>Si, donc, vous connaissez la phase de développement de chacun de
ces scénarios et fonctionnalités, pourquoi ne pas vous servir de
cette information pour changer leur priorité ?&nbsp;</P>
<P>Vous le savez, votre Produit a besoin d'être confronté
rapidement au feedback de vos utilisateurs. Profitez en pour faire en
sorte de vous faire livrer régulièrement des versions simplifiées
de votre projet ; regardez ce qui plaît à vos utilisateurs... C'est
justement ce qui plaît qu'il va falloir développer en priorité
dans votre projet, tout le reste peut être remis à plus tard.</P>
<P>Vous l'aurez compris : ce découpage en fonctionnalités, puis en
scénarios, va vous permettre de prioriser intelligemment votre
projet. Bien plus, cela va vous pousser à abandonner certains points
pour en introduire de nouveaux, plus pertinents pour vos utilisateurs
finaux ; et puisque ça fait partie de votre Produit même, ce
changement fonctionnel sera à la fois rapide et peu coûteux !</P>
<BLOCKQUOTE>Vous avez un aperçu en temps réel de l'état de votre
Produit</BLOCKQUOTE>
<H2 CLASS="western"><A NAME="mesurez-le-chemin-parcouru-pas-lenergie-depensee"></A>
5.3 Mesurez le chemin parcouru, pas l'énergie dépensée</H2>
<P>C'est souvent la même chose : on surveille le temps passé, les
tâches réalisées... Mais on a tous le même problème : passer
beaucoup de temps ne veut pas dire obtenir un résultat. <STRONG>Pourquoi
mesurer ce temps passé si vous n'avez pas le résultat attendu</STRONG>
<STRONG>?</STRONG> Ce qui compte, c'est uniquement les
fonctionnalités.</P>
<P>Les outils classiques vous proposent de découper chaque besoin en
tâche, puis chaque tâche en temps. Or une tâche n'a aucun sens
fonctionnel ! Vraiment ! C'est comme si vous demandiez à une
chauffeur routier combien de litres d'essence il a consommé ; oui
c'est important d'un point de vue financier, mais ce qui compte c'est
quand même de savoir s'il a pu livrer tous ses clients, vous ne
croyez pas ?</P>
<P>Dans un projet informatique c'est pareil : focalisez-vous sur les
fonctionnalités développées. Après tout, c'est ce qui compte
vraiment... Uniquement !</P>
<P>Bien entendu, peut-être que les équipes techniques, elles,
travailleront en tâches, mais&nbsp;:</P>
<UL>
	<LI><P STYLE="margin-bottom: 0cm">rien ne les y oblige. 
	</P>
	<LI><P>ça ne vous concerne pas, seules les fonctionnalités vous
	intéressent 
	</P>
</UL>
<P><STRONG>On n'a jamais vu un client obtenir un bénéfice métier
parce qu'une équipe a accompli une tâche</STRONG>. Non, le bénéfice
ne s'obtient qu'en fournissant un service, autrement dit une
fonctionnalité.</P>
<BLOCKQUOTE>Le client final n'est pas content parce qu'une tâche est
accomplie ; il est content parce qu'une fonctionnalité lui est
offerte et qu'elle répond a son besoin&quot;</BLOCKQUOTE>
<H2 CLASS="western"><A NAME="une-bonne-fonctionnalite-sert-la-vision-produit"></A>
5.4 Une bonne fonctionnalité sert la Vision Produit</H2>
<P>Prenez le réflexe : demandez-vous systématiquement si votre
fonctionnalité sert votre Vision. Si ce n'est pas le cas ... Et bien
oubliez la !</P>
<P>A contrario, ne vous limitez pas à un cadre. Après tout ce qui
compte ce n'est pas la somme de fonctionnalités, c'est de réussir à
satisfaire votre Vision.</P>
<P>Prenez GMail, de Google, par exemple. Chaque fonctionnalité est
sélectionnée pour répondre à cette vision simple : &quot;permettre
à chacun de communiquer facilement avec ses proches&quot;. Peut
importe le cadre, du moment qu'une fonctionnalité sert cette vision,
elle est bonne.</P>
<P>Sans Vision, GMail ne serait qu'une application, c'est à dire un
simple webmail. Mais c'est&nbsp; justement pour cela que GMail c'est
:</P>
<UL>
	<LI><P STYLE="margin-bottom: 0cm">un webmail 
	</P>
	<LI><P STYLE="margin-bottom: 0cm">un service de communication
	instantané (GTalk)&nbsp; 
	</P>
	<LI><P STYLE="margin-bottom: 0cm">une application mobile 
	</P>
	<LI><P STYLE="margin-bottom: 0cm">un tchat vidéo (hangout) 
	</P>
	<LI><P STYLE="margin-bottom: 0cm">un rappel des anniversaires de vos
	amis 
	</P>
	<LI><P STYLE="margin-bottom: 0cm">un carnet de contacts 
	</P>
	<LI><P>... 
	</P>
</UL>
<P>Tous ces services desservent la même vision. C'est ce qui fait
que GMail plait autant. Et c'est cette vision qui assure la cohérence
de l'ensemble : <STRONG>il vous faudra parfois refuser certaines
fonctionnalités</STRONG>, même si à court terme elles semblent
rentables.&nbsp;</P>
<P>Si elles ne répondent pas à la même vision, ces fonctionnalités
vont rendre votre produit incohérent et illogique. Pourquoi dépenser
de l'argent pour rendre votre Produit illogique ? <STRONG>Tout le
monde aime les choses simples, claires et cohérentes</STRONG> ; pire
: si vous enlevez cette clarté, vos développeurs eux-mêmes
risquent de ne plus comprendre ce que vous voulez !</P>
<P>Si vous tenez absolument à ajouter une fonctionnalité qui sert
une autre vision, créez une autre projet, avec d'autres équipes,
mais ne la greffez par artificiellement à celui-ci.</P>
<BLOCKQUOTE>Respecter scrupuleusement une Vision assure la cohérence
et la clarté du Produit</BLOCKQUOTE>
<H2 CLASS="western"><A NAME="oubliez-linterface-graphique"></A>5.5
Oubliez l'interface graphique</H2>
<P>Fatigué ? Pourquoi ne pas faire un petit jeu ? Vous connaissez
Google Calendar ? mais si, vous savez, le calendrier de Google, très
pratique, que vous retrouvez sur calendar.google.com ?</P>
<P>A votre avis :</P>
<DIV ID="table-5-1" DIR="LTR">
	<TABLE CELLPADDING=2 CELLSPACING=2>
		<THEAD>
			<TR>
				<TH STYLE="border: none; padding: 0cm">
					<P>Google Calendar serait-il toujours le même produit :</P>
				</TH>
				<TH STYLE="border: none; padding: 0cm"></TH>
			</TR>
		</THEAD>
		<TBODY>
			<TR>
				<TD STYLE="border: none; padding: 0cm">
					<P>Si le site web n'affichait plus la date du jour ?</P>
				</TD>
				<TD STYLE="border: none; padding: 0cm">
					<P>☐&nbsp;oui&nbsp;☐&nbsp;non</P>
				</TD>
			</TR>
			<TR>
				<TD STYLE="border: none; padding: 0cm">
					<P>Sans page web pour y accéder ?</P>
				</TD>
				<TD STYLE="border: none; padding: 0cm">
					<P>☐&nbsp;oui&nbsp;☐&nbsp;non</P>
				</TD>
			</TR>
			<TR>
				<TD STYLE="border: none; padding: 0cm">
					<P>S'il n'affichait pas de calendrier mensuel</P>
				</TD>
				<TD STYLE="border: none; padding: 0cm">
					<P>☐&nbsp;oui&nbsp;☐&nbsp;non</P>
				</TD>
			</TR>
			<TR>
				<TD STYLE="border: none; padding: 0cm">
					<P>S'il ne vous permettait pas d'ajouter un rendez-vous en
					cliquant sur le bouton &quot;nouveau rendez-vous&quot; ?</P>
				</TD>
				<TD STYLE="border: none; padding: 0cm">
					<P>☐&nbsp;oui&nbsp;☐&nbsp;non</P>
				</TD>
			</TR>
			<TR>
				<TD STYLE="border: none; padding: 0cm">
					<P>Si Internet n’existait pas ?</P>
				</TD>
				<TD STYLE="border: none; padding: 0cm">
					<P>☐&nbsp;oui&nbsp;☐&nbsp;non</P>
				</TD>
			</TR>
		</TBODY>
	</TABLE>
</DIV>
<P>A risque de surprendre, la réponse est partout la même : &quot;oui&quot;
! Oui, même sans page web !</P>
<P>Arès tout, qui nous dit que le web que nous connaissons ne va pas
disparaître ? Google Calendar pourrait très bien n'exister que sur
téléphone mobile. Mieux, sans électronique. Arès tout, si Google
avait existé au début du XXème siècle, il lui aurait fallu
trouver un autre moyen pour délivrer ses services.</P>
<P>Considérez en effet cette Vision de Google Calendar : &quot;permettre
à chacun de connaître facilement&nbsp; les événements à venir
qui le concernent&quot;. Pas besoin de page web, d'application
mobile... Un simple courrier pour ajouter un événement, puis
quelqu'un qui vient frapper à notre porte à chaque fois qu'un
événement va arriver suffit, non ?&nbsp;</P>
<P>Certes commercialement ce n'est pas l'idéal, mais même si Google
Calendar changeait pour désormais envoyer quelqu'un frapper chez
nous à chaque événement, le Produit serait inchangé ; seul le
support matériel serait modifié. Autrement dit : <STRONG>le support
n'a aucune importance lorsque vous décrivez votre Produit !</STRONG></P>
<P>Quand vous décrivez votre produit, écrivez vos fonctionnalités
de sorte à ce qu'elles soient valables même sur internet, même sur
application mobile, et même par courrier postal. c'est la seule
façon de pérenniser votre projet. Si vous avez un site web, vos
Fonctionnalités et Scénarios ne doivent pas changer d'un pouce
lorsque vous décrivez votre application mobile.</P>
<BLOCKQUOTE>Focalisez-vous sur le Comportement de votre Produit, et
laissez l'interface graphique aux ergonomes et aux graphistes.</BLOCKQUOTE>
<H2 CLASS="western"><A NAME="le-scenario-nest-pas-un-critere-dacceptation"></A>
5.6 Le scénario n'est pas un critère d'acceptation</H2>
<P>Considérez ce scénario, mis en évidence par Liz Keogh:</P>
<PRE>Scénario : pouvoir acheter un animal domestique adulte
    Etant donné qu'un chiot est trop petit pour être vendu
    Quand j'essaye de l'acheter
    Alors je suis informé qu'il ne peut être vendu car trop jeune</PRE><P>
Bien. Bien ? Non, pas vraiment... Vous n'avez pas décrit votre
besoin, vous venez en réalité de fournir un Critère d'acceptation
générique à vos développeurs. Leur réaction face à ce scénario
ne peut être que &quot;d'accord, mais à quel âge par exemple le
chiot ne peut pas être vendu ?&quot;.</P>
<P>Tant qu'il reste des questions en suspend, quelque chose ne va
pas. N'oubliez pas que <STRONG>vous décrivez vos Fonctionnalités et
Scénarios, non pas d'abord pour valider un travail fourni, mais
avant tout pour être sûr que tout le monde a bien compris votre
besoin</STRONG> et pour éviter les allers et retours inutiles.</P>
<P>Chaque scénario doit contenir ses propres exemples. Notre
scénario pourrait être changé en :</P>
<PRE>Scénario : pouvoir acheter un animal domestique adulte
    Etant donné qu'un chiot ne peut être vendu avant qu'il n'ait &quot;2 mois&quot;
    Et que &quot;Médor le chien&quot; a actuellement &quot;1 mois&quot;
    Quand j'essaye d'acheter &quot;Médor le chien&quot;
    Alors on doit me dire &quot;Médor le chient est trop jeune. Veuillez revenir dans 1 mois&quot;</PRE><P>
C’est un peu plus explicite non ? Et il reste moins de questions.
De cette manière vous limitez les aller-et-venues inutiles et
exprimez votre besoin clairement.</P>
<BLOCKQUOTE>Si on vous demande: &quot;Pouvez-vous me donner un
exemple où cette situation arrive?&quot;, vous n'avez pas rédigé
un Scénario mais un Critère d'acceptation. Effacez le.</BLOCKQUOTE>
<H2 CLASS="western"><A NAME="les-principales-causes-dechec-du-bdd"></A>
5.7 Les principales causes d'échec du BDD</H2>
<P>Je vais être franc : cette voie de communication, le
Développement Piloté par le Comportement, n'est pas une recette
miracle et peut échouer.</P>
<P>Vous pouvez, comme pour tout, y perdre de l'argent si vous échouez
à appliquer ce principe fondamental : <STRONG>ce qui compte c'est de
réussir à ce que chacun comprenne clairement votre besoin vis-à-vis
de votre Vision</STRONG>.</P>
<P>Je pense que la première cause d'échec vient de la <STRONG>difficulté
à identifier clairement les fonctionnalités d'un Produit</STRONG>.
On a tous en tête des idées géniales, le site web qui va tuer
Facebook et Ebay ; le vrai souci est de savoir comment dans la
pratique ce site web va rendre service aux utilisateurs, quelles sont
les fonctionnalités qu'on va lui offrir.</P>
<P>La seconde difficulté réside dans notre propension à avoir
besoin d'un support visuel pour réfléchir à quelque chose. <STRONG>Il
n'est pas simple de ne se focaliser uniquement sur le Comportement
d'un Produit, sans se soucier de son apparence</STRONG>, de son
interface graphique. Ce sera d'autant plus vrai si vous avez un
profil technique ou si vous êtes très familiarisé avec les
nouvelles technologiques.&nbsp;</P>
<P>Pour résoudre cette difficulté, tentez systématiquement de vous
représenter votre produit sur différents supports : un ordinateur,
un téléphone, mais aussi par courrier ou par pigeon voyageur !
Bref, faites abstraction totale du support matériel.</P>
<P>Ne vous focalisez pas sur le cheminement qui permet à votre
application ou site web de délivrer un service. Partez en sens
inverse depuis l'utilisateur : quel comportement peut-il avoir avec
mon Produit ? Comment mon Produit peut-il l'aider ?</P>
<P>Enfin, et c'est le plus important : <STRONG>vous aurez besoin de
vous faire conseiller, surtout si ce n'est pas votre premier projet
informatique</STRONG>. Il est quasiment impossible de réussir du
premier coup à se défaire des habitudes antérieures.</P>
<P>Il existe aujourd'hui de nombreuses sociétés de conseil en
Agilité qui sauront vous conseiller, surtout dans la démarche de
dialogue qu'il vous faudra engager avec vos équipes.
L'investissement risque fort d'en valoir la peine... Si vous n'en
avez pas les moyens vous pouvez (très sérieusement) effectuer en
parallèle ce dialogue auprès de personnes totalement novices dans
le domaine fonctionnel abordé et peu familières des nouvelles
technologies : vos parents, grand-parents, enfants ou vos amis
ermites.</P>
<BLOCKQUOTE>Il n'existe pas de recette miracle. Faites abstraction de
tout support, oubliez vos habitudes et demandez de l'aide</BLOCKQUOTE>
<H1><A NAME="recette-et-maintenabilite"></A>Chapitre 6 Recette et
maintenabilité</H1>
<H2 CLASS="western"><A NAME="chaque-recette-fonctionnelle-peut-etre-automatisee"></A>
6.1 Chaque recette fonctionnelle peut être automatisée</H2>
<P>La démarche et la syntaxe du Développement piloté a l'avantage
d'être claire et de faciliter la communication.</P>
<P>J'ai une excellente nouvelle pour vous : <STRONG>cette syntaxe va
vous permettre d'automatiser la recette de votre application</STRONG>.
Vraiment !</P>
<P>Et je nous vous parle pas d'outils, si vous en avez déjà
utilisé, qui vont enregistrer puis reproduire les click et saisies
que vous faites sur une page web (Selenium...). Non, surtout pas ! Je
vous parle d'outils pour lesquels vous n'avez rien à faire...</P>
<P>Après tout, <STRONG>si vous avez fait l'effort de respecter une
syntaxe spécifique pour décrire vos Scénario, un programme
informatique doit être capable de les interpréter</STRONG>.</P>
<P>Il existe aujourd'hui deux principaux outils sur le marché :
Cucumber et Behat. Le choix de l'outil dépendra du socle technique
choisi par vos développeurs pour votre Projet.</P>
<P>Concrètement, ces outils vont transformer vos Scénarios en code
informatique. Ce code informatique sera adapté par vos développeurs
qui lui donneront un sens et s'assureront qu'il signifie bien ce que
vous avez demandé.</P>
<P>Par la suite vous disposerez d'une interface où chaque
fonctionnalité, chaque scénario et chaque étape seront, soit verte
(terminée), soit jaune (pas encore développé), soit rouge (ne
répond pas au besoin initial).</P>
<DIV ID="figure-6-1" DIR="LTR">
	<P><IMG SRC="images/behat-wizard-home.jpg" NAME="images4" ALIGN=BOTTOM WIDTH=75 HEIGHT=38 BORDER=0>
		</P>
	<P><STRONG>Figure 6.1</STRONG> Retrouvez toutes vos fonctionnalités
	au sein d'une même interface.</P>
</DIV>
<P>Utiliser de tels outils a donc un coût puisqu'il exige un travail
de traduction par l'équipe technique. Ce coût peut être important,
cela peut demander du temps non négligeable, en plus d'une montée
en compétence des équipes techniques (très rapide en général),</P>
<P>Cependant, en utilisant ces outils :</P>
<UL>
	<LI><P STYLE="margin-bottom: 0cm">Les équipes techniques savent si
	oui ou non elles ont répondu au besoin 
	</P>
	<LI><P STYLE="margin-bottom: 0cm">Les équipes techniques sont
	rassurées dans leur travail 
	</P>
	<LI><P STYLE="margin-bottom: 0cm">Vous connaissez exactement
	l'avancée de votre projet 
	</P>
	<LI><P STYLE="margin-bottom: 0cm">Vous pouvez sans risque gérer
	votre besoin de changement : si une autre fonctionnalité est
	&quot;cassée&quot; par ce changement, vous le savez tout de suite
	et pouvez agir en conséquent 
	</P>
	<LI><P STYLE="margin-bottom: 0cm">Vous augmentez le niveau de
	qualité de votre projet. C'est autant de gains lors de la vie du
	Produit et de sa maintenance, qui sans cela peut être très
	coûteuse 
	</P>
	<LI><P>Vous-même savez en un instant si le livrable est conforme à
	vos attentes 
	</P>
</UL>
<P>Rien ne vous oblige à utiliser ces composants d'automatisation de
recette. Ne pas les utiliser peut certes être dommage, mais n'enlève
rien à la démarche générale.</P>
<BLOCKQUOTE>Facilitez le changement en automatisant la recette
fonctionnel</BLOCKQUOTE>
<H2 CLASS="western"><A NAME="assurez-vous-que-les-equipes-techniques-automatisent-leurs-recettes-techniques"></A>
6.2 Assurez-vous que les équipes techniques automatisent leurs
recettes techniques</H2>
<P>Tester automatiquement qu'un livrable correspond à vos <STRONG>attentes</STRONG>
fonctionnelles c'est bien ; mais être certain de la <STRONG>fiabilité</STRONG>
de votre produit c'est encore mieux !</P>
<P>La pratique du développement piloté par le comportement,
c'est-à-dire de tout ce que l'on a présenté ici (les
fonctionnalités, les scénarios...) nécessite quelque chose de
fondamental : que <STRONG>vos équipes mobilisent leur énergie sur
votre besoin, pas sur leurs bugs</STRONG>.</P>
<P>Pour cela il n'y a pas énormément de solutions : <STRONG>vos
équipes techniques doivent créer des tests automatisés de leur
code source</STRONG>.&nbsp;</P>
<P>C'est un impératif fort : c'est le seul moyen pour qu'elles ne
vous disent pas &quot;nous ne pouvons pas développer cette
fonctionnalité, c'est impossible car on risque de casser tout
l'existant et d'introduire des bugs&quot;. Non, avec des tests
automatisés, une équipe compétente ne peut pas vous répondre ça.
Elle vous dira peut-être que la nouvelle fonctionnalité a un coût,
mais aucune fonctionnalité ne doit être impossible à implémenter
parce qu'elle risque de casser l'existant.</P>
<P>Si quelque chose casse lorsque vous introduisez du changement,
vous perdrez beaucoup d'argent : il va falloir identifier (et ça
peut être très long!) et corriger ce qui a cassé, corriger la
nouvelle fonctionnalité, la tester, ajouter des ressources pour le
support applicatif...&nbsp;</P>
<P>Tous ces coûts, très importants sur le long terme, peuvent être
réduits en laissant à court terme une plus grande marge de manœuvre
aux équipes techniques pour fiabiliser leur code source et en
écrivant des tests automatisés. Ne soyez pas un mauvais économe :
laissez leur le temps qu'il faut pour vous fournir un produit plus
stable et plus fiable. Vous y&nbsp; gagnerez sur le long terme.</P>
<BLOCKQUOTE>Laissez le temps aux développeurs de fiabiliser leur
code : aucune fonctionnalité ne doit être impossible à implémenter
sous prétexte qu'elle risque de casser l'existant</BLOCKQUOTE>
<H1><A NAME="le-mot-de-la-fin"></A>Chapitre 7 Le mot de la fin</H1>
<H2 CLASS="western"><A NAME="parlons-la-meme-langue"></A>7.1 Parlons
la même langue</H2>
<P>Nous avons discuté des idées, des concepts... Il est temps
d'établir notre Langue Commune.</P>
<DL>
	<DT STYLE="margin-bottom: 0.5cm"><STRONG>Produit</STRONG> 
	</DT><DD STYLE="margin-bottom: 0.5cm">
	Concept dont l'application sera à terme la réalisation. Ce concept
	vise à rendre possible la Vision.</DD><DT STYLE="margin-bottom: 0.5cm">
	<STRONG>Vision</STRONG> 
	</DT><DD STYLE="margin-bottom: 0.5cm">
	Guide et oriente votre projet. Son but est de changer ce qui, dans
	la vie de vos utilisateurs, peut les gêner, leur manquer ou les
	insatisfaire.</DD><DT STYLE="margin-bottom: 0.5cm">
	<STRONG>Bénéfice fonctionnel</STRONG> 
	</DT><DD STYLE="margin-bottom: 0.5cm">
	Confort métier tiré par les utilisateurs de votre Produit.&nbsp;</DD><DT STYLE="margin-bottom: 0.5cm">
	<STRONG>Langue Commune</STRONG> 
	</DT><DD STYLE="margin-bottom: 0.5cm">
	Langage clair pour l'ensemble des acteurs d'un projet. Ce langage
	est défini en commun.</DD><DT STYLE="margin-bottom: 0.5cm">
	<STRONG>Cartographie du Produit</STRONG> 
	</DT><DD STYLE="margin-bottom: 0.5cm">
	Représentation visuelle simple du Comportement de votre Produit.
	Cette représentation peut concerner l'ensemble ou une partie de
	votre Produit.</DD><DT STYLE="margin-bottom: 0.5cm">
	<STRONG>Fonctionnalité</STRONG> 
	</DT><DD STYLE="margin-bottom: 0.5cm">
	Besoin métier spécifique. Elle est représentée par un texte
	court qui communique ce besoin métier au reste de l'équipe. Elle
	concerne le service rendu à un utilisateur, et décrit le bénéfice
	fonctionnelle qui en est tiré.</DD><DT STYLE="margin-bottom: 0.5cm">
	<STRONG>Scénario</STRONG> 
	</DT><DD STYLE="margin-bottom: 0.5cm">
	Illustration des situations dans lesquelles se manifeste une
	Fonctionnalité. Elle est représentée par une situation initiale,
	un événement et un résultat attendu.</DD><DT STYLE="margin-bottom: 0.5cm">
	<STRONG>Exemple</STRONG> 
	</DT><DD STYLE="margin-bottom: 0.5cm">
	Illustre un Scénario de manière concrète. Il enlève toute
	ambiguïté possible sur une étape d'un scénario ou sur le
	scénario lui-même.</DD><DT STYLE="margin-bottom: 0.5cm">
	<STRONG>Livrable</STRONG> 
	</DT><DD STYLE="margin-bottom: 0.5cm">
	Application concrète livrée au client. Il délivre le Comportement
	raconté par les Fonctionnalités et les Scénarios. Il est possible
	de fournir un livrable régulièrement au cours de la vie du Projet.</DD><DT STYLE="margin-bottom: 0.5cm">
	<STRONG>Recette</STRONG> 
	</DT><DD STYLE="margin-bottom: 0.5cm">
	Opération qui contrôle que le Livrable correspond au Produit, en
	se basant sur les Fonctionnalités et les Scénarios. Peut être
	automatisée avec des outils spécialisés.</DD></DL>
<H2 CLASS="western">
<A NAME="cartographie-du-developpement-pilote-par-le-comportement"></A>
7.2 Cartographie du Développement piloté par le Comportement</H2>
<DIV ID="figure-7-1" DIR="LTR">
	<P><IMG SRC="images/cartographie.png" NAME="images5" ALIGN=BOTTOM WIDTH=75 HEIGHT=38 BORDER=0>
		</P>
	<P><STRONG>Figure 7.1</STRONG> Cartographie du Développement piloté
	par le Comportement</P>
</DIV>
<H2 CLASS="western"><A NAME="les-10-commandements-pour-vous-mettre-au-developpement-pilote-par-le-comportement"></A>
7.3 Les 10 commandements pour vous mettre au Développement piloté
par le Comportement</H2>
<DL>
	<DT STYLE="margin-bottom: 0.5cm">1) <STRONG>Votre Vision est le seul
	guide du projet</STRONG> 
	</DT><DD STYLE="margin-bottom: 0.5cm">
	Chaque fonctionnalité, chaque ressource consacrée au projet, tout
	doit servir cette Vision. Elle est le point de repère et la
	motivation de chacun des acteurs de votre Produit.&nbsp;</DD><DT STYLE="margin-bottom: 0.5cm">
	2) <STRONG>Créez une Langue Commune</STRONG>. 
	</DT><DD STYLE="margin-bottom: 0.5cm">
	Un développeur ne parle pas la même langue que vous. Créez un
	référentiel et un vocabulaire commun ensemble, et utilisez la
	syntaxe proposée par le Développement piloté par le Comportement,
	claire pour la majorité des gens.</DD><DT STYLE="margin-bottom: 0.5cm">
	3) <STRONG>Concevez vos scénarios ensemble</STRONG>. 
	</DT><DD STYLE="margin-bottom: 0.5cm">
	C'est le seul moyen de retirer toutes les ambiguïtés qui peuvent
	exister entre vous, votre produit et vos équipes. Ne laissez
	personne rédiger un scénario tout seul.</DD><DT STYLE="margin-bottom: 0.5cm">
	4)&nbsp;<STRONG>Vos scénarios ne concernent pas l'interface
	graphique</STRONG> 
	</DT><DD STYLE="margin-bottom: 0.5cm">
	Faites abstraction du support matériel de votre Produit : site web,
	application mobile... Ce qui compte vraiment c'est le comportement
	de votre Produit.</DD><DT STYLE="margin-bottom: 0.5cm">
	5) <STRONG>L'automatisation des recettes n'est qu'un bonus</STRONG> 
	</DT><DD STYLE="margin-bottom: 0.5cm">
	Automatiser des recettes fonctionnelles n'a de sens que si au
	préalable vous avez réussi à faire comprendre votre besoin. Sans
	dialogue ni échanges, les tests automatisés testeront que
	l'application fait bien quelque chose, mais pas forcément ce que
	vous attendez.</DD><DT STYLE="margin-bottom: 0.5cm">
	6) <STRONG>L'automatisation des tests du code source est primordiale</STRONG>
		</DT><DD STYLE="margin-bottom: 0.5cm">
	Laissez le temps aux équipes techniques et poussez-les à écrire
	des tests automatisés de code source (test unitaire). C'est le seul
	moyen pour eux de réaliser vos demandes légitimes de changements
	sans faire exploser vos coûts.</DD><DT STYLE="margin-bottom: 0.5cm">
	7) <STRONG>KISS : Keep It Simple and Stupid</STRONG> 
	</DT><DD STYLE="margin-bottom: 0.5cm">
	Gardez vos scénarios simples et explicites, et n'employez pas dix
	mots quand cinq suffisent. Si votre scénario est long, c'est
	probablement qu'il recouvre un domaine fonctionnel trop large :
	découpez-le.</DD><DT STYLE="margin-bottom: 0.5cm">
	8) <STRONG>Soyez conscient que vos scénarios changeront</STRONG> 
	</DT><DD STYLE="margin-bottom: 0.5cm">
	En confrontant régulièrement votre Produit aux avis des
	utilisateurs, une grande partie de vos scénarios va changer, voire
	disparaître. Acceptez-le, et faites en sorte que les équipes
	techniques l'acceptent en les faisant participer à ce processus de
	changement.</DD><DT STYLE="margin-bottom: 0.5cm">
	9) <STRONG>Utilisez des exemples</STRONG> 
	</DT><DD STYLE="margin-bottom: 0.5cm">
	Vous ne rédigez pas des tests d'acceptation, mais établissez une
	communication pour décrire votre besoin. Illustrez votre besoin par
	des exemples, pourquoi pas avec humour, pour effacer toute
	ambiguïté. &nbsp;</DD><DT STYLE="margin-bottom: 0.5cm">
	10) <STRONG>Le Développement piloté par le Comportement n'est pas
	un miracle</STRONG> 
	</DT><DD STYLE="margin-bottom: 0.5cm">
	La recette miracle n'existe pas. Mais c'est au moins un bonne
	démarche, éprouvée, pour vous faire comprendre et faciliter la
	communication entre fonctionnels et techniques. Elle aidera chacun
	des acteurs de votre projet à comprendre son rôle et ce que vous
	attendez de lui ; il ne reste plus à chacun qu'à être un bon
	acteur.</DD></DL>
<H1>
<A NAME="developpeurs-faites-vous-plaisir-"></A>Développeurs,
faites-vous plaisir !</H1>
<H1>Le développement est un plaisir</H1>
<P>&quot;Le client ne sait jamais ce qu'il veut&quot;.
Comment-pouvez-vous dans ce cas faire en sorte qu'il soit satisfait ?
Etes-vous condamné à délivrer des logiciels, sites web ou
applications dont le client ne sera pas réellement satisfait ?</P>
<P>Et vous-même, êtes-vous vraiment obligé de subir les
contraintes fonctionnelles, de brider vos compétences techniques ?
Après tout, le métier de développeur est passionnant, et mérite
qu'on y prenne le maximum de plaisir ! Et c'est tellement décevant
d'entendre cette fameuse phrase : &quot;ce n'est pas ce que je
voulais&quot;...</P>
<P>Il m'arrive de poser cette question aux personnes que je rencontre
: &quot;avez-vous, au moins une fois, participé à un projet
informatique où le projet a été livré à l'heure, et où, non
seulement le client, mais aussi le développeur, ont été pleinement
satisfaits?&quot; . A l'heure où j'écris ces lignes, seule une
personne m'a répondu &quot;oui&quot;.</P>
<P>Quoi ?! Une seule personne ? Mais pourtant tous les projets
devraient se passer comme ça. Tous les projets devraient être
livrés à l'heure, devraient être intéressants, enrichissants...
Toutes les personnes qui travaillent sur un projet devraient y
prendre plaisir. Sinon, à quoi bon travailler ?</P>
<P>L'émergence des méthodes agiles, ces dernières années, a
permis de remettre l'humain, et ses valeurs, au centre des projets.
Je vous propose de découvrir ici l'autre versant, la face technique,
des méthodes agiles : le Développement piloté par le Comportement.</P>
<H1><A NAME="le-client-ne-sait-pas-ce-quil-veut-sauf-si-vous-communiquez"></A>
Chapitre 1 Le client ne sait pas ce qu'il veut. Sauf si... vous
communiquez.</H1>
<H2 CLASS="western"><A NAME="le-client-doit-vous-fournir-sa-vision"></A>
1.1 Le client doit vous fournir sa Vision</H2>
<P>J'ai souvent été confronté, en tant que développeur, et sur
des projets de toutes tailles (très grosses applications
financières, petits intranet, sites web...) à cette situation : des
clients étaient incapables de me décrire ce qu'ils voulaient que je
réalise pour eux.</P>
<P>A chaque fois, dans ce cas, il m'a fallu moi-même interpréter
leurs souhaits, à partir de captures d'écrans de sites concurrents,
de discussions interminables... Et pour un résultat pas toujours
très heureux.</P>
<P>A quoi la faute ? Au client ? Pas forcément : après tout, ce
n'est pas parce qu'on est patron d'entreprise ou que l'on a un besoin
bien précis que l'on sait comment résoudre ce besoin, ou l'exprimer
clairement.</P>
<P>Est-ce la faute du développeur, qui semble incapable de
comprendre ce qu'on lui demande ? Personnellement j'ai toujours
essayé de faire de mon mieux, même si je suis conscient de ne pas
avoir toujours été à la hauteur. Et je crois que la plupart des
développeurs fait de même.</P>
<P>Alors ? Et si personne n'était en tort ? En réalité, la plupart
des projets informatiques échouent car ils ne sont pas motivés par
une Vision. Certes on veut délivrer un super site web, avec plein de
fonctionnalités qui vont tuer la concurrence, on veut faire mieux
que son voisin... Mais on oublie l'essentiel : un projet doit voir un
but.</P>
<P>Quel est ce but ? Peu importe : changer le monde, rendre service à
une catégorie de personne, se faire de l'argent... Tout est bon à
prendre, du moment que cet objectif, cette Vision, reste le seul et
unique maître du projet.</P>
<P>On le comprend bien alors : ce n'est pas parce qu'un concurrent
propose un service qu'il faut le recopier. Non, on propose un nouveau
service parce qu'il sert la Vision du projet.</P>
<P>Vous l'aurez compris : la Vision est essentielle, et c'est
justement le rôle de votre client de la fournir. Sans Vision, le
projet est condamné à être un échec, ou au mieux une
semi-réussite.</P>
<P>Votre client doit impérativement vous fournir cette Vision. S'il
en est incapable, insistez pour qu'il soit aidé : faites lui lire le
premier tome de ce livre, faites le coacher par une société
spécialisée... Sans cela, vous ne pourrez pas travailler
efficacement avec lui et ne prendrez pas autant de plaisir que vous
le mériter dans votre travail.</P>
<BLOCKQUOTE>La plupart des projets informatiques échouent car ils ne
sont pas motivés par une Vision.</BLOCKQUOTE>
<H2 CLASS="western"><A NAME="votre-client-ne-parle-pas-la-meme-langue-que-vous"></A>
1.2 Votre Client ne parle pas la même langue que vous</H2>
<P>Vous l'avez vécu : votre client et vous ne vous comprenez pas
toujours. Pour vous, un &quot;réseau social&quot; c'est une
plate-forme communautaire, avec des amis, relations, des groupes, des
flux de messages... Bref c'est Facebook.</P>
<P>Pour votre client, un &quot;réseau social&quot; c'est (par
exemple) un espace où des employés font des demandes de documents,
découvrent les actualités de l'entreprises, échangent des
informations sur les commandes... Bref, c'est un intranet.</P>
<P>Attendez... Mais comment donc voulez-vous réussir à satisfaire
votre client si vous ne vous n'employez pas le même vocabulaire sur
des choses si fondamentales ?</P>
<P>Ajoutez à cela que votre client va toujours avoir tendance à
faire deux choses :</P>
<UL>
	<LI><P STYLE="margin-bottom: 0cm">employer des acronymes, sigles et
	autre vocabulaire fonctionnel 
	</P>
	<LI><P>employer des termes techniques (&quot;base de données&quot;,
	&quot;formulaire&quot;, &quot;sauvegarder&quot;) sans savoir
	précisément ce qu'ils signifient 
	</P>
</UL>
<P>La première chose à faire lorsque vous démarrez un projet avec
un client, c'est donc de vous créer un vocabulaire commun. Il va
falloir inventer une nouvelle langue, qui ne laisse plus la place aux
ambiguïtés, où chaque mot n'a qu'une seule signification.</P>
<P>J'ai une mauvaise nouvelle pour vous : ce nouveau vocabulaire,
c'est à vous de l'apprendre, pas à votre client. Cela vous évitera
des débats interminables et vous permettra de mieux comprendre le
besoin du Client.</P>
<P>Si votre client, lorsqu'il dit &quot;bus&quot;, parle en réalité
d'un véhicule avec des ailes et que vous retrouvez dans un aéroport,
ne lui dites pas qu'il a tort. Non, désormais, lorsque vous parlerez
avec lui, vous emploierez le mot &quot;bus&quot; pour désigner ce
que LUI entend par &quot;bus&quot;.</P>
<P>Bien entendu, ce vocabulaire commun, vous devez le constituer
ensemble. Si votre client parle de &quot;bus&quot;, et que c'est
important dans le projet, discutez-en ensemble, et mettez noir sur
blanc une définition simple de ce qu'il entend par là.</P>
<P>Faites de même pour chaque expression que votre client emploie
régulièrement. De cette manière vous n'aurez plus aucune ambiguïté
dans votre quotidien.</P>
<P>C'est le postulat de base du Développement piloté par le
Comportement : vous devez élaborer avec votre client une Langue
Commune.</P>
<H2 CLASS="western"><A NAME="engagez-vous-a-livrer-regulierement"></A>
1.3 Engagez-vous à livrer régulièrement</H2>
<P>Quoi de plus frustrant, après de longues semaines de travail
acharné, d'entendre un si triste &quot;Mais ce n'est pas du tout ce
que j'avais demandé&quot; ?</P>
<P>Et même un simple &quot;ne pourrait-on pas juste changer...&quot;
peut s'avérer totalement démoralisant, compte-tenu de tout ce qu'il
faudra refaire techniquement pour gérer cette demande, et sachant
surtout combien cela aurait été simple si seulement on vous avait
prévenu quelques semaines à l'avance.</P>
<P>Comment éviter d'être touché par ce malheureux constat d'échec,
ou de semi-réussite ?</P>
<P>La réponse est en théorie simple : il suffit de livrer son
travail très régulièrement au client, de sorte qu'il puisse
rapidement s'apercevoir le plus tôt possible que le projet n'est pas
parti dans la direction à laquelle il s'attendait.</P>
<P>Cette démarche est celle des méthodes agiles, particulièrement
de Scrum. Le principe est le suivant : plutôt que de livrer votre
projet une bonne fois pour toute (lorsque le travail est terminé),
vous vous engagez à livrer des bouts de fonctionnalités très
régulièrement (une fois toutes les deux semaines par exemple).</P>
<P>C'est ce qu'on appelle le développement par itérations, par
opposition au cycle en V. Vous développez grossièrement une
fonctionnalité, puis vous l'affinez, l'affinez encore si besoin,
jusqu'à arriver au résultat final. De cette manière le client peut
réorienter le projet à chaque itération sans que n'en soyez
affecté négativement.</P>
<P>Imaginez, par exemple, que votre travail consiste à peindre le
célèbre tableau La Joconde. Avec la méthodologie classique, votre
devriez travailler de manière à finir chaque fonctionnalité de
bout en bout, puis, une fois qu'elle est entièrement terminée,
passer à la suivante.</P>
<DIV ID="figure-1-1-3" DIR="LTR">
	<P><IMG SRC="images/mona-lisa-incremential.jpg" NAME="images6" ALIGN=BOTTOM WIDTH=1261 HEIGHT=622 BORDER=0>
		</P>
	<P><STRONG>Figure 1.1</STRONG> ￼Méthodologie classique : le
	travail et découpé en lots, chaque lot est totalement réalisé
	avant de passer à la suite. Le changement fonctionnel en cours de
	route est difficile.</P>
</DIV>
<P>Avec les méthodes agiles la démarche est inverse : vous
esquissez d'abord les traits de ce que vous avez à développer, afin
de permettre au client d'avoir un aperçu du produit final et de
bénéficier rapidement du feedback des utilisateurs, puis vous
affinez, selon la priorité de chaque fonctionnalité : une
fonctionnalité plus complète par là, un autre lors de l'itération
suivante...</P>
<DIV ID="figure-1-2-3" DIR="LTR">
	<P><IMG SRC="images/mona-lisa-iterative.jpg" NAME="images7" ALIGN=BOTTOM WIDTH=1245 HEIGHT=588 BORDER=0>
		</P>
	<P><STRONG>Figure 1.2</STRONG> ￼Méthodologie agile : le tableau
	s'affine petit à petit. Le changement fonctionnel est facile, même
	en cours de route</P>
</DIV>
<P>Bien entendu, cela ne vas pas sans un changement des méthodologies
de travail : il va falloir découper les fonctionnalités pour faire
en sorte qu'elle puisse être développées rapidement, il faut
optimiser les recettes (pourquoi ne pas en profiter pour utiliser des
tests automatisés, comme des tests unitaires ?)...</P>
<P>Mais, croyez-moi, ces efforts valent la peine : non seulement les
relations avec votre client / patron seront de plus en plus saines
(le projet devient totalement transparent pour tous), mais en plus
vous arriverez vite à livrer du code fonctionnel régulièrement.</P>
<P>Et ô combien cela fait plaisir de voir que l'on avance ! Cela
vous permettra même de gérer plus facilement les demandes de
changements fonctionnels : il est toujours plus facile de revenir sur
deux semaines de travail que sur trois mois, et c'est bien moins
démoralisant.</P>
<P>Je vous conseille même de faire quelque chose qui peut sembler
assez étrange : à chaque fois que vous livrerez un lot fonctionnel,
n'hésitez pas à présenter, pendant une heure ou deux, le fruit de
votre travail à votre client. Oui, comme un commercial ! Prenez même
un vidéo-projecteur.</P>
<P>Calez systématiquement une réunion à chaque fin d'itération,
et prenez la parole : montrez ce que vous avez fait, et soyez-en fier
! Après tout, si vous avez donné le meilleur de vous même, il est
légitime que tout le monde sache de quoi il était question.</P>
<BLOCKQUOTE>Prenez la parole ! N'entendez plus jamais le fameux &quot;Ce
n'est pas ce que j'avais demandé&quot;.</BLOCKQUOTE>
<H2 CLASS="western"><A NAME="adoptez-le-point-de-vue-de-lutilisateur-final"></A>
1.4 Adoptez le point de vue de l'utilisateur final</H2>
<P>Chaque projet informatique, qu'il s'agisse d'un site web, d'un
intranet, d'une application... tout projet dessert un objectif :
rendre service à quelqu'un. Il faut vous mettre dans la peau de
cette personne.</P>
<P>Lorsque vous développez une boutique eCommerce, le service est
rendu à un potentiel acheteur; lorsque vous développez un intranet,
ce sont les employés qui utiliseront l'intranet qui sont les
bénéficiaires du service.</P>
<P>Dans les deux cas, vous aurez besoin de comprendre comment le
Produit va être utilisé. Finalement, à quoi sert cette
fonctionnalité ? Pourquoi est-elle utile ? Comment va elle rendre
service ? Va t-elle faciliter la vie de l'utilisateur ? Va t-elle lui
permettre de réaliser quelque chose de nouveau ? Lui faire gagner du
temps ? Bref, quel est le bénéfice métier de la fonctionnalité
que je vais développer ?</P>
<P>Pourquoi se poser ces questions ? Tout simplement pour prendre
plus de plaisir dans votre travail, et pour être plus efficace. Tant
que ça ? Oui oui...</P>
<P>Après tout, si vous connaissez les personnes qui vont utiliser ce
que vous êtes en train de développer, vous pouvez discuter avec
elles, adopter leur vocabulaire, et donc profitez directement de leur
feedback. Petit à petit, ce feedback sera de plus en plus positif ;
ce sera alors de plus en plus agréable de voir que les gens sont
contents de ce que vous leurs offrez.</P>
<P>Cela vous permettra aussi de quitter à l'occasion de casquette de
développeur pour, pourquoi pas, proposer des améliorations,
discuter de l'orientation du projet... Si vous savez comment va être
utilisé le Produit, qu'est-ce qui vous empêche d'essayer de
l'améliorer ?</P>
<P>Changer de casquette peut parfois être difficile. Vous pouvez
très bien travailler sur des projets dont vous n'avez rien à faire
; c'est triste, mais ça arrive fréquemment. Il arrive de devoir
travailler sur un projet pour des besoins alimentaires. C'est
légitime. Mais autant faire en sorte que même ces projets,
alimentaires, vous apportent de la satisfaction humaine. Adopter la
vision de l'utilisateur final vous permettra toujours d'échanger :
échanger avec votre client, les utilisateurs finaux, vos
collègues...</P>
<P>Il y a quelques temps, j'ai lancé un sondage auprès des
développeurs de la société dans laquelle je travaille. Une des
questions était à peu près la suivante : &quot;Prenez-vous plaisir
dans votre travail?&quot;. Près d'un quart des réponses était
négatif. Quel dommage !</P>
<P>N'oubliez pas que vous travaillez dans un monde d'humains : plus
vous interagirez avec eux, plus vous fournirez un travail qui leur
procurera satisfaction, plus vous même éprouverez du plaisir à
travailler. Le métier de développeur offre une chance unique : il
permet de prendre plaisir en travaillant ; autant en prendre le
maximum !</P>
<BLOCKQUOTE>Changez de casquette pour prendre le maximum de plaisir
dans votre métier de développeur.</BLOCKQUOTE>
<H1><A NAME="votre-code-doit-refleter-le-besoin-fonctionnel"></A>Chapitre
2 Votre code doit refléter le Besoin fonctionnel</H1>
<P>Vous le savez, il arrive très souvent qu'un besoin fonctionnel
évolue au cours de la vie d'un projet. Et, parfois, une évolution
fonctionnelle, même mineure, peut entraîner une refonte majeure
d'un code source.</P>
<P>C'est l'effet boule de neige : modifier un bloc de code va avoir
un impact sur une grande partie de code source, qui elle même va
concerner des domaines fonctionnels très variés, entraînant des
régression fonctionnelle nombreuses et imprévisibles.</P>
<P>Si vous l'avez vécu, vous savez que c'est quelque chose qui est
totalement incompréhensible pour une personne qui n'est pas
développeur. Ce n'est pas de la mauvaise volonté, non ; c'est
simplement que, s'il est déjà difficile de saisir pleinement
qu'écrire du code source permet au final d'avoir une application qui
marche, comprendre qu'il existe dans le code source des interactions
fines, complexes et non liées aux domaines fonctionnels est une
chose quasiment impossible pour un fonctionnel.</P>
<P>Il faut donc trouver une solution pour répondre à ceux deux
questions fondamentales :</P>
<UL>
	<LI><P STYLE="margin-bottom: 0cm">comment assurer la cohérence des
	changements techniques face aux changements fonctionnels ? 
	</P>
	<LI><P>comment permettre aux fonctionnels d'anticiper le coût
	technique d'un changement fonctionnel ? 
	</P>
</UL>
<H2 CLASS="western"><A NAME="le-domain-driven-design"></A>2.1 Le
Domain Driven Design</H2>
<P>C'est justement l'enjeu du Domain Driven Design de répondre à
ces questions. L'objet de cet ouvrage n'est pas de faire de vous des
spécialistes du Domain Driven Design (ou DDD) en quelques pages.
Non, il existe des livres très bien conçus, que je ne peux que vous
inviter à lire <EM>(cf. Domain Driven Design Vite Fait + DDD de Eric
Envans) - Liens à mettre</EM></P>
<P>Non, l'objectif ici est de comprendre qu'il existe des démarches
de travail et de conception logicielle qui permette de faciliter la
gestion du besoin fonctionnel. Et c'est là, justement, l'objet du
DDD.</P>
<P>Le DDD est une démarche d'échange, de conception et de
développement, dont l'objectif est de calquer le code source (code,
base de données, ressources...) sur le besoin métier.</P>
<P>Impossible ? Si, et même très profitable. Sitôt que vous aurez
commencé à travailler de cette manière, vous ne pourrez plus vous
en passer.</P>
<P>L'idée générale est d'élaborer une Langue commune (cette
Langue dont nous avons déjà parlé) avec le fonctionnel, puis de
concevoir une cartographie fonctionnelle de l'application, afin de
n'utiliser, dans le code source, uniquement des concepts présents
dans le domaine fonctionnel.</P>
<P>Dès lors, si cette démarche a été accomplie, il devient facile
pour le développeur d'identifier quelle proportion de code et quels
modules techniques seront impactés par une demande de changement
fonctionnel : il lui &quot;suffit&quot; de superposer le nouveau
besoin fonctionnel sur l'ancien code source.</P>
<P>De cette manière, toute modification technique devient
représentative des modifications fonctionnelles : une modification
fonctionnelle mineure ne peut plus entraîner une refonte technique
longue et coûteuse. Et a contrario, il est totalement légitime
qu'une évolution fonctionnelle lourde nécessite une refonte tout
autant importante du code source.</P>
<P>De manière générale, il est important de prendre conscience que
le travail du développeur est de répondre à un besoin fonctionnel.
Il est donc important de structurer son code, de quelque manière que
ce soit, de façon à répondre au mieux et le plus facilement à ce
besoin.</P>
<BLOCKQUOTE>Les impacts techniques doivent être à la mesure des
changements fonctionnels</BLOCKQUOTE>
<H2 CLASS="western"><A NAME="-les-tests-unitaires-sont-indispensables"></A>
2.2 &nbsp;Les tests unitaires sont indispensables</H2>
<P>En informatique on adore les sigles ; connaissez-vous le VDD ?
C'est un sigle à la mode qui désigne le &quot;var_dump driven
development&quot;, ou autrement dit, le développement piloté par la
fonction var_dump() de PHP.</P>
<P>Pourquoi est-ce une expression à la mode ? Tout simplement parce
qu'elle désigne une pratique de développement vouée à
l'extinction, qui consiste pour le développeur à afficher à
l'écran les valeurs de certaines variables pour en vérifier le
contenu manuellement.</P>
<P>La raison pour laquelle cette pratique est vouée à disparaître
est simple : lorsque l'on vérifie à la main une valeur d'une
variable, c'est long, ennuyant, et on risque de faire des erreurs.</P>
<P>En réalité, faire un var_dump() pour afficher une information à
l'écran n'est ni plus ni moins qu'un contrôle sur l'état d'une
variable. Or il est très facile d'imaginer des robots dont la seule
fonction est de s'assurer en permanence de l'état d'une variable. Et
ces robots, infatiguables et extrêmement rapides, ne se tromperont
jamais.</P>
<P>Ces robots, ce sont les tests unitaires automatisés. Ecrire des
tests unitaires est, à ce jour, l'un des seuls moyens vraiment
efficaces pour faciliter la vie d'un développeur, fiabiliser son
code et réduire les coûts de maintenance d'une application.</P>
<P>Il existe dans tous les langages de programmation des outils qui
facilitent la rédaction de tests unitaires : JUnit en Java, QUnit en
JavaScript... En PHP, deux outils se démarquent par leur fiabilité
et leur grande communauté: <A HREF="http://phpunit.de/">PHPUnit</A>,
développé par Sebastian Bergmann, et
[atoum][http://docs.atoum.org], développé par Frédéric Hardy. Ces
deux outils proposent une approche légèrement différente des tests
unitaires, mais sont tous les deux simples, efficaces et complets.</P>
<P>De manière générale, rédiger un test unitaire consiste à
dérouler un processus simple :</P>
<UL>
	<LI><P STYLE="margin-bottom: 0cm">mettre en condition un code que
	l'on souhaite tester : ce sont les conditions du test 
	</P>
	<LI><P STYLE="margin-bottom: 0cm">exécuter une commande : il s'agit
	de ce que l'on souhaite tester 
	</P>
	<LI><P>décrire quel doit être l'effet de la commande : il s'agit
	alors du résultat attendu 
	</P>
</UL>
<P>Lors que l'on affiche une variable à l'écran pour vérifier sa
valeur, finalement ce que l'on fait c'est exiger que cette variable
ait telle ou telle valeur. En d'autres termes, on fait une assertion
sur la valeur de la variable.</P>
<P>On peut imaginer, par exemple, créer un test unitaire automatisé
pour une fonction d'addition, qui utiliserait la fonction PHP native
<CODE>assert()</CODE> :</P>
<PRE>$resultat = addition(5,5);
assert($resultat === 10);</PRE><P>
Ce code PHP génerera une erreur si la fonction addition() ne renvoie
pas &quot;10&quot;.</P>
<P>L'avantage d'utiliser un outil de tests automatisés sera de
pouvoir organiser ses tests facilement et efficacement. Chaque
assertion valide sera afficée en vert, les erreurs seront remontées
aux développeur en un instant.</P>
<BLOCKQUOTE>Les tests unitaires sont le seul moyen efficaces de
fiabiliser un code source</BLOCKQUOTE>
<H2 CLASS="western"><A NAME="-tester-le-besoin-metier-est-indispensable"></A>
2.3 &nbsp;Tester le besoin métier est indispensable</H2>
<P>Tester son code source est bien. C'est même déjà pas mal du
tout ! Mais une application web est plus qu'un code source : c'est un
assemblage de comportements (code source) vis-à-vis d'informations
(données, souvent issues d'une base de données), pour délivrer un
message (par exemple une page web), le tout exécuté dans un
environnement spécifique (serveur), le tout vis-à-vis d'un
utilisateur (navigateur).</P>
<P>On comprend vite du coup que ce n'est pas parce qu'un code source
fonctionne de la manière attendue que l'application, elle aussi,
aura le comportement désiré.</P>
<P>Bien plus, il est en réalité difficile de tester unitairement
l'ensemble d'un code source : c'est long et coûteux, et cela exige
des changements importants dans les pratiques de développement
(Développement piloté par les tests, génération de tests
aléatoires, etc.).</P>
<P>C'est pour ces raisons qu'il existe différents niveaux de tests
automatisés :</P>
<UL>
	<LI><P STYLE="margin-bottom: 0cm">les <EM>tests d'intégration</EM>,
	qui s'assurent de l'environnement donné (version de PHP, présence
	d'un module apache...) 
	</P>
	<LI><P STYLE="margin-bottom: 0cm">les <EM>tests de charge</EM>, qui
	s'assurent de la performance d'une application 
	</P>
	<LI><P STYLE="margin-bottom: 0cm">les <EM>tests unitaires</EM>, qui
	vérifient le comportement du code source 
	</P>
	<LI><P STYLE="margin-bottom: 0cm">les <EM>tests d'interface</EM>,
	qui vérifient qu'une application a bien l'aspect attendu 
	</P>
	<LI><P>les <EM>tests fonctionnels</EM>, qui s'assurent que
	l'application délivre bien un service métier à l'utilisateur 
	</P>
</UL>
<P>Il existe bien entendu d'autres niveaux de tests (sécurité,
cohérence...), mais ceux-ci sont les plus répandus.</P>
<P>Le dernier niveau de test (le test fonctionnel) est sans doute
parmi les plus importants. Finalement, tout votre travail consiste
justement à faire en sorte que l'utilisateur tire un bénéfice
fonctionnel d'une application. S'assurer que ce bénéfice
fonctionnel est bien présent est indispensable pour votre client.</P>
<P>Mais justement, ce contrôle, autrement dit ce travail de Recette
client, est long et laborieux. Il est source d'erreurs, et surtout il
est impossible de contrôler à la main, lors de chaque évolution
fonctionnelle, que l'ensemble de l'application fonctionne toujours de
la manière attendue.</P>
<P>C'est pour cela qu'il existe désormais des outils de tests
fonctionnels automatisés. C'est outils sont infatiguables: ils
traquent en permanence votre application à la recherche d'anomalies
fonctionnelles.</P>
<H1><A NAME="comprenez-enfin-ce-que-votre-client-vous-demande"></A>Chapitre
3 Comprenez (enfin!) ce que votre client vous demande</H1>
<P>Vous l'avez compris : votre client ne parle pas la même langue
que vous. Comment comprendre ce qu'il vous demande dans ce cas ?
Certains vous répondront : &quot;utilisez UML&quot;. D'autres vous
diront qu'il faut demander à votre client de s'exprimer sous forme
de &quot;si...alors&quot;. J'imagine que cela doit être possible
dans certain cas. Mais dans la majorité des situations, exiger de
vos clients qu'ils apprennent l'UML, ou leur demander de formaliser
leur pensée sous forme de logique booléenne, est un contre-sens !
Ils n'y arriveront pas efficacement : ce n'est pas leur métier, et
probablement pas leur mode de pensée.</P>
<P>C'est pour cela qu'il existe ce que l'on appelle le &quot;Développement
piloté par le Comportement&quot; (&quot;Behavior Driven
Development&quot;, ou &quot;BDD&quot; en anglais). Ce qui se cache
derrière ce terme barbare est en réalité très simple : il s'agit
d'une démarche pour faciliter la communication entre fonctionnels et
techniques, démarche soutenue par l'utilisation d'une langue et
d'une grammaire commune.</P>
<P>Cette grammaire commune (appelée &quot;Gherkin&quot;) est simple,
facile à apprendre, et compréhensible tout autant par un
informaticien que par votre voisin, votre coinjoint(e)..., et par
là-même par votre client.</P>
<P>Utiliser cette grammaire vous offrira un certain nombre
d'avantages :</P>
<UL>
	<LI><P STYLE="margin-bottom: 0cm">vous éviterez les quiproquos 
	</P>
	<LI><P STYLE="margin-bottom: 0cm">les spécifications vous serviront
	de documentation 
	</P>
	<LI><P STYLE="margin-bottom: 0cm">il sera plus facile d'identifier
	et de gérer les changements fonctionnels de dernière minute 
	</P>
	<LI><P>vous saurez à tout moment ce qu'il vous reste à faire 
	</P>
</UL>
<P>Attention, le Développement piloté par le comporement a un
pré-requis majeur et non négociable : <EM>le client doit
s'investir</EM>. Il faudra que le client (ou son représentant
fonctionnel) soit disponible pour répondre à chacune de vos
questions, en permanence. Si personne autour de vous n'est prêt à
s'investir pour exprimer le besoin clairement, oubliez l'idée de
pratiquer le Développement piloté par le comportement : vous
n'aurez pas les moyens d'y parvenir.</P>
<BLOCKQUOTE>Gherkin est une grammaire accessible à tous pour
structurer l'expression de besoin</BLOCKQUOTE>
<H2 CLASS="western"><A NAME="le-besoin-doit-etre-exprime-par-des-fonctionnalites"></A>
3.1 Le besoin doit être exprimé par des Fonctionnalités</H2>
<P>Concrètement, comment démarrer ? La première tâche revient à
votre client. C'est lui qui va dévoir recencer la liste des
Fonctionnalités qu'il souhaite voir dans son application.</P>
<P>Pour cela, il va devoir identifier chaque fonctionnalité par un
titre simple, court, expli- cite et unique :</P>
<PRE># Le client va distinguer les fonctionnalités en leur donnant un titre 
Fonctionnalité : Avoir accès à la liste des animaux de compagnie
Fonctionnalité : Choisir un animal de compagnie
Fonctionnalité : Acheter un animal de compagnie
Fonctionnalité : ...</PRE><P>
Il est impératif qu'à cette étape les titres des fonctionnalités
soient clairs et explicites.</P>
<P>Ensuite, il va lui suffire de contextualiser un peu cette
fonctionnalité. Par exemple, il devra indiquer qui est le
bénéficiaire de cette fonctionnalité :</P>
<PRE>En tant que vendeur
En tant que acheteur
En tant que propriétaire de la boutique
En tant que ...</PRE><P>
Vous avez donc désormais connaissance de l'acteur bénéficiaire de
la fonctionnalité. Il reste encore à identifier le service offert
par la fonctionnalité. C'est cela que vous aurez, finalement, à
programmer :</P>
<PRE>Je veux acheter un animal de compagnie
Je veux connaître la liste des animaux de compagnie de mon magasin
Je veux connaître la liste des vendeurs
Je veux ...</PRE><P>
Pour lever toute ambiguïté, il est important pour vous de
comprendre quel est le bénéfice de la fonctionnalité que vous
aller développer : à quoi sert-elle vraiment ?</P>
<P>Après tout, c'est indispensable de comprendre et de connaître le
pourquoi de votre métier. Lorsque vous travaillez, le fruit de votre
travail est vraiment utile ; et il est toujours gratifiant de voir
que l'on a rendu service à quelqu'un. C'est pour cela qu'il est
important que le client exprime le bénéfice obtenu par la
fonctionnalité :</P>
<PRE>De telle sorte que je puisse repartir avec un nouveau compagnon
De telle sorte que je sache s'il me faut renouveler le stock
De telle sorte que je puisse organiser les congés de chacun
De telle sorte que ...</PRE><P>
Chaque fonctionnalité peut donc être exprimée en quatre lignes,
très simples et compréhensibles par tous :</P>
<PRE>Fonctionnalité : Connaître la liste des animaux de compagnie disponibles
  En tant que vendeur
  Je veux connaître la liste des animaux de compagnie disponibles à la vente
  De telle sorte que je sache s'il me faut renouveler le stock</PRE><P>
Pratique non ? Cette manière d'exprimer les fonctionnalités
(dénommée &quot;Gherkin&quot;), est simple, mais surtout est
compréhensible par tous. C'est le rôle de votre client (ou
fonctionnel) de recencer l'ensemble des fonctionnalités du projet de
cette manière. Mais, vous vous en doutez, cela ne suffit pas. Il va
falloir maintenant comprendre en détail chaque fonctionnalité ;
c'est un travail que vous ferez en commun</P>
<H2 CLASS="western"><A NAME="vous-etes-un-journaliste-interviewez-"></A>
3.2 Vous êtes un journaliste : interviewez !</H2>
<P>Chaque Fonctionnalité peut donc être traduite en quatre petites
phrases. Mais dans la majorité des cas cela ne suffira pas : il
reste des ambiguïtés, ce n'est pas très précis...</P>
<P>C'est là que vous entrez en scène. A partir du moment où les
fonctionnalités sont décrites dans leurs grandes lignes, vous allez
devoir les détailler. Oui, vous-même ! Comment ? Tout simplement en
prenant quelques instants la casquette d'un journaliste : interviewez
votre fonctionnel !</P>
<P>Attention, je vous parle d'une vraie interview. Prenez le temps,
pour chaque Fonctionnalité, de poser un maximum de questions
pertinentes : &quot;et qu'est-ce qui se passe quand ... ?&quot; ; ou
encore &quot;je ne comprend pas le bénéfice tiré de cette
fonctionnalité pour l'utilisateur.&quot;</P>
<P>Posez, donc, toutes ces questions. Et surtout planifiez
systématiquement un moment, avant chaque itération, où votre
fonctionnel et l'ensemble des équipes techniques (oui, toutes lers
personnes qui sont concernées), vont se réunir pour cette
interview.</P>
<P>J'insiste : il ne s'agit pas d'une réunion facultative : comment
ferait-on sans cela pour être sûr d'avoir bien compris la demande
du client ? Le temps passé n'est pas perdu, loin de là : c'est du
temps de gagné sur la future maintenance, les futures recettes et
les futurs vas-et-vients entre le client et les équipes techniques.</P>
<P>L'objectif de ces interviews est de comprendre exactement, sans
aucune ambiguïté possible, ce qui vous est demandé
fonctionnellement. Pour cela, il faudra découper les prochaines
Fonctionnalités que vous aurez à développer en &quot;Scénarios&quot;.</P>
<H2 CLASS="western"><A NAME="chaque-fonctionnalite-peut-etre-decoupe-en-scenarios"></A>
3.3 Chaque Fonctionnalité peut être découpé en Scénarios</H2>
<P>Chaque Fonctionnalité peut être décrite en quatre points :</P>
<UL>
	<LI><P STYLE="margin-bottom: 0cm">un titre 
	</P>
	<LI><P STYLE="margin-bottom: 0cm">un rôle 
	</P>
	<LI><P STYLE="margin-bottom: 0cm">un service rendu 
	</P>
	<LI><P>un bénéfice métier 
	</P>
</UL>
<P>Mais cela ne suffira probablement pas. Il reste des questions en
suspens. C'est le rôle des Scénarios de lever ces incertitudes. Ce
sera d'autant plus vrai qu'ils seront rédigés en commun avec le
fonctionnel et les équipes techniques.</P>
<P>Chaque Fonctionnalité peut contenir un ou plusieurs Scénarios,
et chaque Scénario doit pouvoir se distinguer facilement des autres
par un titre :</P>
<PRE>Fonctionnalité : acheter un animal de compagnie
  (...)
  Scénario : acheter un animal de compagnie disponible à la vente
  Scénario : tenter d'acheter un animal de compagnie qui est trop jeune
  Scénario : tenter d'acheter un animal de compagnie qui est réservé
  ...</PRE><P>
Votre travail de développeur va consister à rendre ces Scénarios
effectifs dans l'application. En identifiant les Scénarios réalisés
et ceux qui ne le sont pas vous saurez donc exactement ce qu'il vous
reste à faire.</P>
<P>Vous vous en doutez : un simple titre ne suffit pas ; il va
falloir compléter chaque Scénario. Posez par exemple cette question
: &quot;dans quel cadre ce scénario se situe t-il ?&quot;. Cela vous
permettra de connaître le <EM>Contexte de votre Scénario</EM>:</P>
<PRE>Scénario : ...
  Etant donné que tel contexte existe
  Etant donné que je souhaite acheter un chien
  Etant donné qu'il n'y a plus un seul animal disponible
  Etant donné ...</PRE><P>
Une application consiste généralement à réagir à des <EM>événements</EM>.
Précisez-donc quels sont ces événéments :</P>
<PRE>Scénario : ...
  (...)
  Quand j'essaye d'acheter un chien
  Quand je regarde quels sont les animaux disponibles
  Quand ...</PRE><P>
Dès lors, il ne vous reste plus qu'à préciser le <EM>Résultat
attendu</EM> lorsque cet événement survient :</P>
<PRE>Scénario : ...
  (...)
  Alors je peux repartir avec un petit chien
  Alors je dois être informé que le chien est trop jeune pour être
  vendu
  Alors ...</PRE><P>
Cette syntaxe, simple, que l'on nomme Gherkin, va suffire dans la
majorité des cas pour que le fonctionnel puisse exprimer son besoin
et surtout pour que vous puissez comprendre sans ambiguïté ce qui
vous ai demandé.</P>
<P>Voici un exemple de Fonctionnalité :</P>
<PRE>Fonctionnalité : acheter un chiot
En tant que client du magasin
Je veux pouvoir acheter un chiot
De telle sorte que je puisse avoir un animal de compagnie

Scénario : acheter un chiot disponible à la vente
  Etant donné qu'un chiot est disponible en stock
  Quand j'achète un chiot
  Alors on me donne un chiot

Scénario: acheter un chiot sevré
  Etant donné qu'un chiot est trop jeune pour être vendu
  Quand j'essaye d'acheter ce chiot
  Alors je suis informé qu'il est trop jeune pour être vendu</PRE><P>
Pratique non ?</P>
<H2 CLASS="western"><A NAME="-demandez-exigez-des-exemples-precis"></A>
3.4 &nbsp;Demandez (exigez) des exemples précis</H2>
<P>Rappelez-vous que l'objectif du Développement piloté par le
comportement est de lever toutes les ambiguïtés. Pourtant, dans le
scénario suivant, il reste des questions :</P>
<PRE>Scénario:  acheter un chiot sevré
  Etant donné qu'un chiot est trop jeune pour être vendu
  Quand j'essaye d'acheter ce chiot
  Alors je suis informé qu'il est trop jeune pour être vendu</PRE><P>
Ces questions sont nombreuses :</P>
<UL>
	<LI><P STYLE="margin-bottom: 0cm">à partir de quel âge un chiot
	peut-il être vendu ? 
	</P>
	<LI><P STYLE="margin-bottom: 0cm">quel est l'âge du chiot que l'on
	essaye d'acheter ? 
	</P>
	<LI><P>comment suis-je informé ? par quelle phrase ? 
	</P>
</UL>
<P>Autant de questions auxquelles, si vous ne les posez pas
maintenant, vous serez obligé de répondre vous-même, avec tous les
risques que cela comporte, notamment celui de devoir recommencer son
développement !</P>
<P>Heureusement, il est tout à fait possible, avec Gherkin, de
préciser des valeurs à utiliser. Il suffit de les encadrer dans des
guillemets :</P>
<PRE>Scénario : acheter un chiot sevré
  Etant donné qu'un chiot ne peut être vendu avant qu'il n'ait &quot;2 mois&quot;
  Et que &quot;Médor le chien&quot; a actuellement &quot;1 mois&quot;
  Quand j'essaye d'acheter &quot;Médor le chien&quot;
  Alors on doit me dire &quot;Médor le chient est trop jeune !&quot;</PRE><P>
Pas mal d'ambiguïtés sont levées non ? Et ça ne prend pas
beaucoup plus de temps à écrire. Maintenant, il peut arriver qu'un
seul exemple ne suffise pas ; il en faudrait plusieurs. Pas de
problèmes, Gherkin vous permet d'utiliser des exemples facilement ;
il suffit de les passer sous forme de tableaux. Les variables sont
alors à encadrer par les symboles &quot;&lt;&quot; (plus petit que)
et &quot;&gt;&quot; (plus grand que).</P>
<PRE>Plan de Scénario : acheter un chiot sevré
  Etant donné qu'un chiot ne peut être vendu avant qu'il n'ait &quot;2 mois&quot;
  Et que &quot;&lt;nom-du-chien&gt;&quot; a actuellement &quot;&lt;age-du-chien&gt;&quot;
  Quand j'essaye d'acheter &quot;&lt;nom-du-chien&gt;&quot;
  Alors on doit me dire &quot;&lt;nom-du-chien&gt; est trop jeune !&quot;

Exemples :
  | nom-du-chien  | age-du-chien        |
  | médor       | 1 mois            |
  | rex         | 1 mois et 3 jours     |
  | rantanplan    | 15 jours            |</PRE><P>
Remarquez qu'il ne s'agit plus dans ce cas d'un &quot;Scénario&quot;
mais d'un &quot;Plan de Scénario&quot;.</P>
<P>Vous voici donc avec un besoin simple, découpé et exprimé
clairement. A vous de jouer !</P>
<H1><A NAME="automatisez-votre-recette"></A>Chapitre 4 Automatisez
votre recette</H1>
<P>Vous l'avez vu, Gherkin est un moyen simple pour votre fonctionnel
pour vous fournir une expression de besoin claire et précise.</P>
<P>Que diriez-vous maintenant de traduire ce besoin en tests
automatisés ? Car, oui, c'est possible !</P>
<P>Tout besoin, s'il est exprimé clairement, peut être testé. Si
ce besoin est exprimé dans une grammaire solide et complète, tout
système d'information peut le tester automatiquement.</P>
<P>Je vous propose de voir comment traduire ce besoin en tests
automatisés, de telle sorte qu'une simple ligne de commande dans un
terminal vous indique si ce que vous avez développé est conforme ou
non.</P>
<P>L'ensemble des exemples que nous allons voir sont écrits en PHP.
Pourquoi ? Tout simplement parce que la communauté PHP a très
fortement et très rapidement adheré au Déve- loppement piloté par
le comportement. Les outils PHP pour le Développement piloté par le
comportement sont matures, nombreux, et surtout offrent une souplesse
qui, à ce jour, ne se retrouve pas dans d'autres langages.</P>
<P>Cependant, il existe des outils pour écrire et lancer des tests
automatisés dans n'importe quel langage :</P>
<UL>
	<LI><P STYLE="margin-bottom: 0cm">Ruby : Cucumber
	(http://cukes.info) 
	</P>
	<LI><P STYLE="margin-bottom: 0cm">Java : JBehave
	(http://jbehave.org) 
	</P>
	<LI><P STYLE="margin-bottom: 0cm">C# : NBehave
	(https://github.com/nbehave/NBehave) 
	</P>
	<LI><P STYLE="margin-bottom: 0cm">Python : Behave
	(http://packages.python.org/behave/) 
	</P>
	<LI><P STYLE="margin-bottom: 0cm">PHP : Behat (http://behat.org) ,
	PHPSpec (http://www.phpspec.net) 
	</P>
	<LI><P STYLE="margin-bottom: 0cm">JavaScript : Jasmine
	(http://pivotal.github.com/jasmine/) 
	</P>
	<LI><P>Net : NBehave (http://nbehave.org) 
	</P>
</UL>
<P>Il en existe bien d'autres, la liste est loin d'être exhaustive,
mais ceux-ci sont particulièrement utilisés dans le monde du
développement aujourd'hui.</P>
<H2 CLASS="western"><A NAME="installez-et-utilisez-behat-en-php"></A>4.1
Installez et utilisez Behat en PHP</H2>
<P>Behat est un outil développé en PHP par Konstantin Kudryashov
(@everzet) et soutenu par la société KnpLabs. Cet outil efficace
est aujourd'hui mature et largement utilisé. Behat permet d'exécuter
des tests automatisés sur tous types d'applications, PHP ou non. Il
peut tester :</P>
<UL>
	<LI><P STYLE="margin-bottom: 0cm">des applications web, en pilotant
	un vrai navigateur ou non 
	</P>
	<LI><P STYLE="margin-bottom: 0cm">des applications console
	(terminal) 
	</P>
	<LI><P>des morceaux de code source 
	</P>
</UL>
<P>Du moment que ce qui est testé dispose d'un point d'entrée et
d'une information de sortie, Behat va vous permettre d'automatiser
votre recette métier.</P>
<P>Dans tous les cas, il vous faudra PHP installé sur la machine qui
exécutera les tests. L'installation de PHP est résumée sur cette
page : http://php.net/manual/fr/install.php.</P>
<P>Windows :</P>
<PRE STYLE="margin-bottom: 0.5cm">Utilisez WampServer (http://www.wampserver.com)</PRE><P>
Ubuntu, Debian :</P>
<PRE># en ligne de commande
apt-get install php5-common php5-cli php5-curl</PRE><P>
Mac :</P>
<PRE STYLE="margin-bottom: 0.5cm">Utilisez MampServer (http://www.mamp.info)</PRE><P>
Installer Behat est simple, peut être fait de plusieurs manières :
sous forme d'archive PHP (phar) ou en utilisant un gestionnaire de
dépendance.</P>
<H3 CLASS="western"><A NAME="installation-avec-composer"></A>4.1.1
Installation avec Composer</H3>
<P>Créez un fichier composer.json à la racine de votre projet, avec
le contenu suivant :</P>
<PRE>{
    &quot;require&quot;: {
        &quot;behat/behat&quot;: &quot;2.4.*@stable&quot;
    },
    &quot;config&quot;: {
        &quot;bin-dir&quot;: &quot;bin/&quot;
    }
}</PRE><P>
Exécutez ensuite la commande suivante dans votre terminal, en vous
plaçant àa la racine de votre projet :</P>
<PRE>curl http://getcomposer.org/installer | php
php composer.phar install --prefer-source</PRE><H3 CLASS="western">
<A NAME="-installation-sous-forme-darchive-phar"></A>4.1.2
&nbsp;Installation sous forme d'archive Phar</H3>
<P>Il vous suffit de télécharger le fichier behat.phar à l'adresse
suivante : http://behat.org/ downloads/behat.phar, et de le placer
dans un dossier <CODE>bin</CODE> à la racine de votre projet. Vous
aurez donc l'arborescence suivante :</P>
<PRE>/chemin/vers/mon/projet
    (...)
    - bin/
        - behat.phar</PRE><P>
Pour des raisons de maintenabilité, il est préferable d'utiliser la
méthode d'installation avec Composer, qui vous permettra de mettre à
jour très facilement l'ensemble des librairies PHP que vous
utilisez, y compris Behat.</P>
<H3 CLASS="western"><A NAME="preparer-le-projet"></A>4.1.3 Préparer
le projet</H3>
<P>Une fois que Behat est installé, il vous suffit d'exécuter la
commande suivante :</P>
<PRE STYLE="margin-bottom: 0.5cm">php ./bin/behat --init</PRE><P>
Cela aura pour effet de créer dans votre projet tous les éléments
dont Behat a besoin pour fonctionner. Votre arboresence ressemble
désormais à :</P>
<P>Vous voici désormais avec les dossiers suivants :</P>
<UL>
	<LI><P STYLE="margin-bottom: 0cm"><CODE>features</CODE> : contient
	la listes des fonctionnalités, sous forme de fichier <CODE>.feature</CODE>
		</P>
	<LI><P><CODE>features/bootstrap</CODE> : contient les fichiers PHP
	de traduction de Fonctionnalité en code source 
	</P>
</UL>
<P>Chaque nouvelle fonctionnalité devra donc être ajoutée dans le
dossier ̀ features<CODE>, sous forme d'un fichier</CODE>.feature<CODE>.
Créez par exemple le fichier</CODE>features/calculer-mon-age.feature`,
avec le contenu suivant :</P>
<DIV ID="figure-4-1-3" DIR="LTR">
	<P><IMG SRC="images/dev-qr-exo1-step1.png" NAME="images8" ALIGN=BOTTOM WIDTH=100 HEIGHT=100 BORDER=0>
		</P>
	<P><STRONG>Figure 4.1</STRONG> Les sources de cet exercice sont
	disponibles sur http://goo.gl/lgWvy</P>
</DIV>
<PRE># language: fr
Fonctionnalité: Calculer l'âge d'une personne
    En tant qu'utilisateur de l'application
    Je veux connaître le nombre d'années écoulées entre deux dates
    De telle sorte que je puisse connaître mon age

Scénario: Calculer l'âge d'une personne depuis une date antérieure à aujourd'hui
    Etant donné que je suis né le 06/07/1986
    Et que nous sommes le 20/09/013
    Quand je calcule mon âge
    Alors je suis informé que j'ai 27 ans

Scénario: Calculer l'âge d'une personne depuis une date postérieure à aujourd'hui
    Etant donné que je suis né le 06/07/3013
    Et que nous sommes le 20/09/2013
    Quand je calcule mon âge
    Alors je suis informé que je ne suis pas encore né

Scénario: Calculer l'âge d'une personne dont c'est l'anniversaire aujourd'hui
    Etant donné que je suis né le 06/07/1986
    Et que nous sommes le 06/07/2013
    Quand je calcule mon âge
    Alors je suis informé que j'ai 27 ans
    Et on me souhaite un joyeux anniversaire</PRE><P>
Puis exécutez la commande suivante pour lancer Behat :</P>
<PRE STYLE="margin-bottom: 0.5cm">./bin/behat</PRE>
<DIV ID="figure-4-2" DIR="LTR">
	<P><IMG SRC="images/dev-behat-exo-date-undefined.jpg" NAME="images9" ALIGN=BOTTOM WIDTH=1082 HEIGHT=702 BORDER=0>
		</P>
	<P><STRONG>Figure 4.2</STRONG> Les étapes de la fonctionnalité ne
	sont pas encore traduites : elles sont jaunes</P>
</DIV>
<P>Comme vous pouvez le voir, le résultat de cette commande est
jaune. Cela veut tout simplement dire que les phrases utilisées pour
exprimer le besoin n'ont pas encore de signification pour Behat. Il
va falloir les traduire.</P>
<H2 CLASS="western"><A NAME="traduire-une-fonctionnalite-en-code-source"></A>
4.2 Traduire une Fonctionnalité en code source</H2>
<P>Par chance, Behat est suffisammet bien fait pour vous fournir une
base de travail pour traduire vos fonctionnalités. Il suffit de
copier-coller dans le fichier <CODE>features/bootstrap/FeatureContext.php</CODE>
le code PHP qui a été généré par la commande :</P>
<PRE STYLE="margin-bottom: 0.5cm">./bin/behat</PRE><P>
Pourquoi copier ce code dans ce fichier ? Tout simplement parce que
les fichiers <CODE>features/bootstrap/*Context.php</CODE> vont servir
de passerelle entre le besoin exprimé (sous forme de phrases) et
votre application.</P>
<P>Il vous appartient de modifier ces fichiers pour faire la
traduction du besoin fonctionnel. C'est un travail qui semble long,
mais en réalité il n'est pas beaucoup plus long que de tester
vous-même à main que la demande initiale est respectée, mais à
surtout l'avantage de rendre ce travail de recette interne totalement
automatique.</P>
<P>Traduisez maintenant la fonctionnalité en code source dans le
fichier <CODE>features/bootstrap/FeatureContext.php</CODE>, en
adaptant le code PHP fourni par Behat selon votre besoin. Par exemple
:</P>
<PRE>
    </PRE><P>
Notez ces différents aspects :</P>
<UL>
	<LI><P STYLE="margin-bottom: 0cm">chaque phrase est convertie en une
	méthode PHP 
	</P>
	<LI><P STYLE="margin-bottom: 0cm">le lien entre les phrases et les
	méthodes PHP est effectué par un expression régulière (par
	exemple : <CODE>/^on me souhaite un joyeux anniversaire$/</CODE>) 
	</P>
	<LI><P STYLE="margin-bottom: 0cm">vous devez traduire chaque étape.
	Behat comprendra qu'une étape n'est pas valide si vous levez une
	exception, comme c'est le cas dans la méthode
	<CODE>onMeSouhaiteUnJoyeuxAnniversaire()</CODE> 
	</P>
	<LI><P>il est possible de recevoir certaines informations (nombres,
	exemples...) sous forme de paramètres de méthodes. 
	</P>
</UL>
<P>Maintenant, il vous suffit de relancer Behat pour vérifier
automatiquement que votre application a bien le comportement attendu
:</P>
<PRE STYLE="margin-bottom: 0.5cm">./bin/behat</PRE>
<DIV ID="figure-4-3" DIR="LTR">
	<P><IMG SRC="images/dev-behat-exo-date-fail.jpg" NAME="images10" ALIGN=BOTTOM WIDTH=1077 HEIGHT=777 BORDER=0>
		</P>
	<P><STRONG>Figure 4.3</STRONG> Les fonctionnalités échouent :
	elles sont rouges</P>
</DIV>
<P>Il vous suffit finalement de développer votre application PHP,
conforme aux attentes fonctionnelles, puis de relancer Behat pour
vous assurer que vous avez bien traité la demande initiale.</P>
<H2 CLASS="western"><A NAME="exploitez-les-jeux-dexemples"></A>4.3
Exploitez les jeux d'exemples</H2>
<DIV ID="figure-4-4" DIR="LTR">
	<P><IMG SRC="images/dev-qr-exo1-step2.png" NAME="images11" ALIGN=BOTTOM WIDTH=100 HEIGHT=100 BORDER=0>
		</P>
	<P><STRONG>Figure 4.4</STRONG> Les sources de cet exercice sont
	disponibles sur http://goo.gl/jaLxP</P>
</DIV>
<P>Vous l'avez vu, votre fonctionnel peut vous fournir des exemples,
grâce à la syntaxe Gherkin.</P>
<P>On pourrait par exemple modifier notre fonctionnalité de la façon
suivante :</P>
<PRE># language: fr
Fonctionnalité: Calculer l'âge d'une personne
    En tant qu'utilisateur de l'application
    Je veux connaître le nombre d'années écoulées entre deux dates
    De telle sorte que je puisse connaître mon age

    Plan du Scénario: Calculer l'âge d'une personne
      Etant donné que je suis né le &quot;&lt;dateNaissance&gt;&quot;
      Et que nous sommes le &quot;&lt;dateDuJour&gt;&quot;
      Quand je calcule mon âge
      Alors on me répond &quot;&lt;reponseAttendu&gt;&quot;

      Exemples:
        | dateNaissance | dateDuJour | reponseAttendu                           |
        | 06/07/1986    | 20/09/2013 | Vous avez 27 ans                         |
        | 06/07/1985    | 20/09/2013 | Vous avez 28 ans                         |
        | 26/11/2020    | 20/09/2013 | Vous n'êtes pas encore né                |
        | 06/07/1986    | 06/07/2013 | Vous avez 27 ans. Joyeux anniversaire    |</PRE><P>
Vous voici avec une fonctionnalité simple, claire et complète.</P>
<P>Travailler avec des exemples ne change strictement rien pour vous.
En réalité, Behat va travailler avec chaque jeu d'exemple, un à
un, et va vous envoyer chaque information sous forme de paramètre de
méthode, sans que cela n'ait le moindre impact sur votre code.</P>
<P>Voici une traduction possible de cette fonctionnalité :</P>
<PRE></PRE><P>
Votre fonctionnel peut désormais ajouter autant d'exemples qui le
souhaite, votre travail de traduction ne changera plus.</P>
<BLOCKQUOTE>Utiliser des exemples est très simple avec Behat.</BLOCKQUOTE>
<H2 CLASS="western"><A NAME="reutilisez-vos-precedents-tests"></A>4.4
Réutilisez vos précédents tests</H2>
<DIV ID="figure-4-5" DIR="LTR">
	<P><IMG SRC="images/dev-qr-exo2.png" NAME="images12" ALIGN=BOTTOM WIDTH=100 HEIGHT=100 BORDER=0>
		</P>
	<P><STRONG>Figure 4.5</STRONG> Les sources de cet exercice sont
	disponibles sur http://goo.gl/onk8x</P>
</DIV>
<P>Vous l'avez vu, la phase de traduction d'une phrase (étape) en
code source peut parfois être longue.</P>
<P>C'est pour cela que vous devez faire en sorte de faciliter votre
travail : réutilisez au maximum vos définitions. Attention, je ne
vous parle en aucun cas ici de découper votre code comme vous le
feriez dans une application (refractoring, respect des principes
SOLID, découpage des méthodes...).</P>
<P>Non, la réutilisabilité dans les Contextes de traduction
(fichiers <CODE>*Context.php</CODE>) ne passe pas par une
réutilisation du code source, mais bel et bien par une réutilisation
de phrases. <EM>En réalité, vous devez apprendre à faire du
refractoring de phrases</EM>.</P>
<P>Cette tâche n'est pas simple au départ, mais est en réalité
assez naturelle. Chaque phrase, qui correspond à un contexte, un
élément déclencheur ou un résultat attendu, peut être découpée
en différentes étapes, qui <EM>elles-mêmes pourront être
décomposées jusqu'à arriver à des expressions atomiques simples</EM>.</P>
<P>Prenez par exemple la phrase suivante :</P>
<PRE STYLE="margin-bottom: 0.5cm">Quand j'ajoute dans mon panier &quot;télévision Sony&quot;  depuis le catalogue produit</PRE><P>
Cette phrase peut être découpée, par exemple :</P>
<PRE>Etant donné que je consulte le catalogue produit
Quand j'ajoute dans mon panier &quot;télévision Sony&quot;</PRE><P>
Qui elles-mêmes peuvent être découpées pour créer des
expressions atomiques réutilisables :</P>
<PRE>Etant donné que je suis sur la page &quot;/catalogue/produits&quot;
Quand je coche &quot;télévision Sony&quot;
Et je clique sur &quot;Ajouter au panier&quot;</PRE><P>
Vous pouvez constater que les trois dernières expressions sont en
réalité des étapes (web) atomiques réutilisables à l'infini.
Cela signifie qu'une fois que vous les aurez traduites, vous n'aurez
plus jamais à revenir dessus, et vous pourrez vous en servir à
votre gré.</P>
<P>Vous pourriez désormais écrire, par exemple :</P>
<PRE>Etant donné que je suis sur la page &quot;/home&quot;
Etant donné que je suis sur la page &quot;/mon-compte&quot;
...</PRE><P>
Cette démarche permet donc de faire du refractoring de phrases pour
arriver à des expressions atomiques. Par chance, c'est extrêmement
simple à faire avec Behat. Regardez plutôt :</P>
<PRE></PRE><P>
Comme vous le voyez, il suffit simplement, dans la méthode de
définition, de retourner un tableau d'étapes. Chaque étape est en
réalité un objet PHP (<CODE>Given</CODE>, <CODE>When</CODE> ou
<CODE>Then</CODE>) qui accepte en paramètre de constructeur la
phrase que l'on souhaite utiliser. Pratique non ?</P>
<P>Ce qui donnerait par exemple dans notre cas :</P>
<PRE></PRE><P>
Notez les trois dernières traduction (les méthodes ̀
queJeSuisSurLaPage()<CODE>,</CODE>jeCoche()<CODE>et</CODE>jeCliqueSur()`).
Ces méthodes de traduction concernent le comportement d'un
navigateur web, comme Firefox ou Chrome... Il arrive en effet très
souvent qu'il faille effectuer des actions qui n'existent que dans un
navigateur. Vous allez voir qu'avec Behat c'est très facile !</P>
<BLOCKQUOTE>Oubliez le refractoring de code. Vous devez apprendre à
faire du refractoring de phrases.</BLOCKQUOTE>
<H2 CLASS="western"><A NAME="testez-une-application-web"></A>4.5
Testez une application Web</H2>
<P>Vous savez désormais automatiser une recette fonctionnelle d'une
applicatif. Cependant, dans le cadre d'une application internet, la
recette fonctionnelle consiste le plus souvent à parcourir des pages
web, vérifier leur conformité (délivrent-elles le service attendu
?), en soumettant un formulaire, en cliquant sur un lien... Bref, en
surfant sur un site web.</P>
<P>Heureusement, il est aujourd'hui très simple d'automatiser une
recette fonctionnelle, quand bien même elle concerne une application
web. Allons-y !</P>
<P>Une fois de plus nous allons utiliser Behat. Plus précisément,
nous allons utiliser un module de Behat, appelé Mink, qui permet de
naviguer dans une application web et de lancer des tests automatisés
lors decette navigation.</P>
<P>Concrètement, Mink permet une double approche :</P>
<UL>
	<LI><P STYLE="margin-bottom: 0cm">Exécuter des tests fonctionnels
	dans un navigateur virtuel (émulateur) 
	</P>
	<LI><P>Exécuter des tests fonctionnels au sein d'un vrai
	navigateur, comme Chrome ou Firefox par exemple 
	</P>
</UL>
<P>Il peut sembler étrange d'exécuter des tests dans un navigateur
virtuel. Cependant, bien souvent le comportement fonctionnel que l'on
souhaite tester est en réalité disponible driectement au sein des
pages web, dans le HTML. <EM>On préferera alors priviléger les
tests lancés dans un vrai navigateur uniquement lorsque le test
porte sur des fonctionnalités complexes (en Javascript ou en Ajax
par exemple), ces tests étant en général beaucoup plus lourd et
long à s'exécuter que les autres</EM>.</P>
<P>Pour commencer, installez <CODE>Mink</CODE> :</P>
<H3 CLASS="western"><A NAME="installer-mink-avec-composer"></A>4.5.1
Installer Mink avec Composer</H3>
<P>Modifiez le fichier composer.json que vous avez préalablement
créé, et ajoutez-y le code suivant :</P>
<PRE STYLE="margin-bottom: 0.5cm"></PRE><H3 CLASS="western">
<A NAME="installer-mink-sous-forme-darchive-phar"></A>4.5.2 Installer
Mink sous forme d'archive Phar</H3>
<P>Exécutez la commande suivante :</P>
<PRE STYLE="margin-bottom: 0.5cm">wget https://github.com/downloads/Behat/Mink/mink.phar</PRE><P>
Il vous suffit ensuite d'ajouter l'inscruction suivantes dans vos
fichiers PHP de Contexte :</P>
<PRE STYLE="margin-bottom: 0.5cm">require_once 'mink.phar';</PRE><P>
Ensuite, il suffit de configurer Behat pour lui indiquer que l'on
utilise Mink. Mink étant une extension de Behat, C'est très simple.
Il suffit de créer le fichier <CODE>behat.yml</CODE> à la racine de
votre projet :</P>
<PRE></PRE><P>
Voilà, Mink est installé !</P>
<P>Rappelez-vous, le travail de Spécification fonctionelle passe par
l'utilisation d'expressions, elles-mêmes organisés autour d'une
grammaire : Gherkin. Mink a ceci d'intéressant qu'il propose
nativement un panel assez large d'expressions qui concernent un
navigateur, que vous pouvez donc réutiliser (<CODE>comme &quot;Quand
je vais sur &quot;http://...&quot;</CODE>, ou encore <CODE>Quand je
remplis &quot;Votre prénom&quot; avec &quot;Jean-François&quot;</CODE>...).</P>
<P>Un besoin exprimé de la façon suivante sera donc automatiquement
compris par Behat lorsque Mink est installé:</P>
<PRE>Scenario: s'identifier au sein de l'application
  Etant donné que je suis sur &quot;/accueil&quot;
  Quand je suis le lien &quot;Me connecter&quot;
  Et que je remplis &quot;Identifiant&quot; avec &quot;Jean-François&quot;
  Et que je remplis &quot;Mot de passe&quot; avec &quot;azerty&quot;
  Et que je clique sur &quot;Valider&quot;
  Alors je dois voir &quot;Bienvenue Jean-François&quot;</PRE><P>
Pratique non ? Constatez que vous n'avez même pas besoin de parler
de nom (attribut <CODE>name</CODE>) des champs HTML ; non, Behat fera
le lien pour vous entre les <CODE>label</CODE>, <CODE>title</CODE>,
<CODE>class</CODE>... de vos champs de formulaire et l'expression que
vous avez utilisée.</P>
<P>Au fait, avez-vous lancé Behat pour vérifier que cela fonctionne
? Allez-y ; Utiliser Mink ne change rien à l'utilisation de Behat,
il suffit comme avant d'exécuter la commande suivante :</P>
<PRE STYLE="margin-bottom: 0.5cm">php ./bin/behat</PRE><P>
Bien entendu, il va souvent arriver que vous ayez besoin de gérer
des cas plus complexes que ce qu'il est possible de faire avec les
exprpessions disponibles nativement dans Mink.</P>
<P>Dans ce cas, il va s'agir, ni plus ni moins, de piloter votre
navigateur (quel qu'il soit). Un très large éventail de méthodes
sont disponibles :</P>
<PRE></PRE><P>
Notez que désormais notre classe n'hérite plus de <CODE>BehatContext</CODE>
mais de <CODE>MinkContext</CODE>.</P>
<P>Examinons ce code ensemble. Tout d'abord, nous récupérons la
page courante affichée par le navigateur :</P>
<PRE>    </PRE><P>
Ensuite, il suffit de récupérer un élément HTML dans la page,
puis d'exécuter l'action souhaitée sur cet élément (ici un click,
mais on pourrait imaginer saisir une valeur, le cocher...) :</P>
<PRE>    </PRE><P>
Vous avez bien vu : la méthode <CODE>find()</CODE> permet de
récupérer des éléments en utilisant des sélecteurs CSS. Ce sont
les mêmes que ce que vous utilisez dans vos feuilles de style CSS.
Attention, les pseudo-styles (':hover', etc) ne sont pas supportés.
Bien entendu, il est également possible de récupérer des éléments
HTML en utilisant des expressions xPath. La <A HREF="http://mink.behat.org/#xpath-selectors">documentation
de Mink est assez complète</A> sur ce sujet.</P>
<P>Il ne vous reste plus qu'à traduire les expressions
fonctionnelles de vos clients en différentes actions au sein d'un
navigateur, et vous saurez traiter alors la majorité des cas.</P>
<P>Sachez également que Mink permet très facilement de piloter un
vrai navigateur. C'est utile lorsque l'on souhaite, par exemple,
tester des fonctionnalités qui nécessite un environnement Ajax ou
JavaScript. Dans ce cas, juste au dessus des Scénarios ou des
Fonctionnalités concernées, il suffit d'ajouter le tag <CODE>@javascript</CODE>.
Ce tag indiquera à Behat que vous souhaitez, dans ces cas
spécifiques, lancer un vrai navigateur pour les tests. Bien entendu,
dans ce cas, la machine qui exécute les tests doit posséder un
environnement graphique (comme c'est le cas pour les ordinateurs de
Bureau).</P>
<P>Lorsque l'on souhaite piloter un vrai navigateur, Behat délègue
en réalité le travail à des outils spécialisés, comme <CODE>Sahi</CODE>,
ou encore comme <CODE>Selenium</CODE>. Dans ce cas, ces outils
doivent être installés sur votre machine. La procédure pour les
installer est en général très simple, et est bien expliquée dans
la <A HREF="http://mink.behat.org/#different-browsers-drivers">documentation
officielle</A>.</P>
<P>Voici la configuration à ajouter dans le fichier <CODE>behat.yml</CODE>
pour indiquer que vous souhaitez utiliser Chrome par exemple, grâce
au driver Sahi :</P>
<PRE></PRE><P>
Voici celle que vous pourriez utiliser pour piloter Firefox :</P>
<PRE></PRE><P>
Vous avez désormais toutes les connaissances requises pour commencer
à tester automatiquement un projet web. Pourquoi ne pas vous
entraîner par exemple sur une petite application web de guichet
bancaire ?</P>
<DIV ID="figure-4-6" DIR="LTR">
	<P><IMG SRC="images/dev-qr-exo3.png" NAME="images13" ALIGN=BOTTOM WIDTH=100 HEIGHT=100 BORDER=0>
		</P>
	<P><STRONG>Figure 4.6</STRONG> La correction et les sources de cet
	exercice sont disponibles sur http://goo.gl/LISNg</P>
</DIV>
<P>Je vous propose de vous entraîner en traduisant le besoin
fonctionnel suivant :</P>
<PRE>#language: fr
Fonctionnalité: Gérer un compte bancaire
  Afin de gérer mon compte bancaire
  En tant qu'utilisateur connecté
  Je peux ajouter ou retirer de l'argent sur mon compte

  Contexte:
    Etant donné que je suis connecté en tant que &quot;jean-françois&quot;
    Et que j'ai &quot;50&quot; euro
    Et je suis sur &quot;/&quot;

  Scénario: Consulter mes comptes
    Alors je devrais voir &quot;Vous avez 50 euro sur votre compte&quot;

  Plan du Scénario: Ajouter de l'argent
    Etant donné que j'ai &quot;&lt;montantInitial&gt;&quot; euro
    Quand je sélectionne &quot;&lt;operation&gt;&quot; depuis &quot;Operation&quot;
    Et je remplis &quot;Montant&quot; avec &quot;&lt;montant&gt;&quot;
    Et je presse &quot;Go&quot;
    Alors je devrais voir &quot;Vous avez &lt;montantFinal&gt; euro sur votre compte&quot;

    Exemples:
     | operation     | montantInitial| montant   | montantFinal  |
     | Ajouter       | 50            | 10        | 60            |
     | Ajouter       | 50            | 20        | 70            |
     | Ajouter       | 50            | 5         | 55            |
     | Ajouter       | 50            | 0         | 50            |
     | Retirer       | 50            | 10        | 40            |
     | Retirer       | 50            | 20        | 30            |
     | Retirer       | 50            | 30        | 20            |

  Scénario: Les découverts sont interdits
    Etant donné que j'ai &quot;50&quot; euro
    Quand je sélectionne &quot;Retirer&quot; depuis &quot;Operation&quot;
    Et je remplis &quot;Montant&quot; avec &quot;60&quot;
    Et je presse &quot;Go&quot;
    Alors je devrais voir &quot;Vous avez 50 euro sur votre compte&quot;
    Et je devrais voir &quot;Les decouverts ne sont pas autorises&quot;</PRE><P>
A vous de jouer !</P>
<BLOCKQUOTE>Mink permet facilement de piloter un navigateur pour
tester vos applications web.</BLOCKQUOTE>
<H1><A NAME="optimisez-vos-tests-fonctionnels"></A>Chapitre 5
Optimisez vos tests fonctionnels</H1>
<H2 CLASS="western"><A NAME="organisez-vos-contextes-de-tests"></A>5.1
Organisez vos Contextes de tests</H2>
<P>Vous l'avez vu, l'ensemble des définitions (traduction d'une
fonctionnalité) est stocké au sein d'une classe PHP, ici
<CODE>FeatureContext</CODE>.</P>
<P>Vous aurez très rapidement besoin d'organiser vos définitions de
manière à vous y retrouver facilement. En effet, vous aurez de plus
en plus de définitions au fur-et-à-mesure que votre application
grossira.</P>
<P>Il est très simple avec Behat de créer plusieurs Contextes de
définitions. Par exemple, pour une application bancaire, on pourrait
créer les contextes de définition suivants :</P>
<UL>
	<LI><P STYLE="margin-bottom: 0cm">Contexte de définitions pour les
	clients 
	</P>
	<LI><P STYLE="margin-bottom: 0cm">Contexte de définitions pour les
	banquiers 
	</P>
	<LI><P STYLE="margin-bottom: 0cm">Contexte de définitions pour les
	comptes bancaires 
	</P>
	<LI><P>etc. 
	</P>
</UL>
<P>Pour cela, il suffit simplement de créer un fichier PHP (et une
classe) par Contetxe de définition, par exemple :</P>
<UL>
	<LI><P STYLE="margin-bottom: 0cm"><CODE>ClientContext.php</CODE> 
	</P>
	<LI><P STYLE="margin-bottom: 0cm"><CODE>BanquierContext.php</CODE> 
	</P>
	<LI><P><CODE>CompteContext.php</CODE> 
	</P>
</UL>
<P>Puis de les initialiser dans le fichier principal <CODE>FeatureContext</CODE>
:</P>
<PRE></PRE><P>
Désormais Behat utilisera l'ensemble des contextes disponibles pour
traduire les expressions qu'il reçoit.</P>
<P>Remarquez les alias de Contexte que nous avons utilisés, par
exemple &quot;mink&quot; dans le code suivant :</P>
<PRE STYLE="margin-bottom: 0.5cm">$this-&gt;useContext('mink', new MinkContext($parameters));</PRE><P>
Ces alias vont vous permettre de récupérer facilement vos Contextes
d'une Classe PHP à l'autre. Par exemple pour récupérer votre
contexte <CODE>mink</CODE> depuis le context <CODE>client</CODE>, il
vous suffit d'utiliser le code suivant :</P>
<PRE>$mink = $this-&gt;getMainContext()-&gt;getSubContext('mink');
$session = $mink-&gt;getSession();</PRE><P>
N'hésitez pas à découper vos Contextes de manière à les rendre
facilement réutilisables par la suite. Cela vous évitera de
mauvaises surprises lorsque votre applicationg grossira et que vous
aurez à naviguer parmi plusieurs centaines de définitions.</P>
<BLOCKQUOTE>Découpez et organisez vos Contextes de définition</BLOCKQUOTE>
<H2 CLASS="western"><A NAME="creez-une-couche-disolation-de-lihm"></A>
5.2 Créez une couche d'isolation de l'IHM</H2>
<P>Une grande (très grande!) difficulté du développement piloté
par le Comportement consiste à réussir à s'abstraire de
l'interface graphique.</P>
<P>Imaginez par exemple la situation suivante : vous avez développé
un site web pour votre client. Tout marche à merveille, vous avez de
très nombreuses définitions pour vérifier avec Behat que le besoin
est bien implémenté...</P>
<P>Votre client est tellement content que désormais il souhaite
disposer d'une application mobile, identique au site web. Vous voyez
le problème ? Vous allez devoir récrire toutes les définitions où
vous avez écrit des choses comme</P>
<PRE>return array(
    'Etant donné que je suis sur &quot;/login&quot;'
    ,'Quand je presse &quot;Me connecter&quot;
);</PRE><P>
Car oui, sur mobile, il est fort probable que la manière de vérifier
si le besoin est bien implémenté change radicalement par rapport à
un site web.</P>
<P>Et même sans un changement aussi radical que le passage d'un site
web à une application mobile, comment gérer facilement les
changements d'interface graphique : une <CODE>table</CODE> devient
une <CODE>div</CODE>, le bouton <CODE>Se connecter</CODE> devient
<CODE>Connexion</CODE>...</P>
<P>Le seul moyen d'éviter de devoir réécrire toutes ses
définitions lorsqu'un changement d'interface survient (ce qui est le
cas dans les deux précédents exemples) est de <EM>créer des
couches d'isolation de l'interface</EM>.</P>
<P>Concrètement, c'est très simple : il suffit de créer des
Contextes de définition spécialisé dans l'affichage des pages. On
peut imaginer par exemple un Contexte de définition consacré à
l'affichage des pages Web, qui contiendra donc nos définitions liées
à l'affichage :</P>
<PRE></PRE><P>
Et une autre, le jour où l'on en a besoin, consacré à l'afficage
sur mobile :</P>
<PRE></PRE><P>
Désormais, il suffit d'ajouter un paramètre de configuration
spécifique dans le fichier <CODE>behat.yml</CODE>, que l'on
utilisera pour définir quel Contexte de définition l'on souhaite
utiliser :</P>
<PRE>d</PRE><P>
Une simple condition suffit à nous permettre d'utiliser le bon
Contexte :</P>
<PRE></PRE><P>
Pour les applications assez conséquentes, il devient rapidement
intéressant de créer même un Contexte de définition par page (ou
par lot fonctionnel) :</P>
<PRE></PRE><P>
Cette pratique, que l'on pourrait désigner par Isolation de l'IHM,
peut sembler complexe, mais est en réalité le seul moyen de
péreniser les définitions au cours de la vie d'un projet.</P>
<BLOCKQUOTE>Isolez ce qui concerne l'interface graphique dans des
Contextes spécifiques</BLOCKQUOTE>
<H2 CLASS="western"><A NAME="exploitez-les-compte-rendus-de-tests"></A>
5.3 Exploitez les compte-rendus de tests</H2>
<P>Vous avez désormais un outil pour valider et vérifier qu'un
besoin métier a bel et bien été implémenté. Pour l'instant, vous
avez exécuté vous-même Behat pour afficher ces informations dans
un terminal. Vous vous en doutez, Behat va pouvoir en faire bien
plus.</P>
<P>Pour commencer, il est tout à fait possible de générer une page
web synthétique des résultats des tests. Pour cela, il suffit
d'exécuter Behat en spécifiant le <CODE>html</CODE> comme format de
sortie :</P>
<PRE STYLE="margin-bottom: 0.5cm">php ./bin/behat --format html --out resultat.html</PRE><P>
Vous disposerez donc d'une page web, graphique, que vous pouvez
fournir à votre fonctionnel pour lui indiquer de manière claire ce
qui est fait ou reste à faire parmi les spécifications.</P>
<DIV ID="figure-5-1" DIR="LTR">
	<P><IMG SRC="images/screen-export-html.jpg" NAME="images14" ALIGN=BOTTOM WIDTH=1764 HEIGHT=405 BORDER=0>
		</P>
	<P><STRONG>Figure 5.1</STRONG> Le résultat de chaque Fonctionnalité
	et Scénario est visible dans une page web</P>
</DIV>
<P>Bien entendu, ce n'est pas tout. La majorité des outils de tests
automatisés sont capables de générer des fichiers de sortie dans
un format standard (xml). Ces fichiers peuvent donc être fournis à
des logiciels tiers, capables de les traiter ou de les transformer
selon leurs spécificité.</P>
<P>Il est par exemple tout à fait possible d'intégrer Behat à une
plate-forme d'intégration continue, comme Jenkins. Une plate-forme
d'intégration continue a pour objectif de délivrer en permanence du
code source (déploiement continu), c'est-à-dire de permettre à un
site web d'être mis à jour très régulièrement.</P>
<P>Indirectement, les plate-formes d'intégration continue (PIC)
fournissent une vision d'ensemble sur un projet : les bonnes
pratiques sont-elles respectées ? Le code est-il fiable ? Le besoin
est-il respecté ? Behat va pouvoir se greffer au coeur de cette
plate-forme et va ainsi fournir des indices précieux pour la
pilotage du projet.</P>
<P>Pour générer un résultat réutilisable par une plate-forme
d'intégration continue, il suffit d'exécuter la commande suivante :</P>
<PRE STYLE="margin-bottom: 0.5cm"></PRE><P>
Pour aller plus loin avec les plate-formes d'ingréation continue, je
vous invite par exemple à consulter le site http://jenkins-php.org/.</P>
<P>Il existe également des outils visuels, basés sur ce format de
sortie, pour fournir aux fonctionnels une vraie interface graphique
pour rédiger les spécifications, mais aussi pour avoir une vue
d'ensemble des résultats des implémentations de ces spécifications.</P>
<DIV ID="figure-5-2" DIR="LTR">
	<P><IMG SRC="images/behat-wizard-home.jpg" NAME="images15" ALIGN=BOTTOM WIDTH=1004 HEIGHT=493 BORDER=0>
		</P>
	<P><STRONG>Figure 5.2</STRONG> Des outils graphiques pour visualiser
	et éditer les spécifications</P>
</DIV>
<P>Parmi ces outils, on peut mentionner par exemple <A HREF="http://halleck45.github.com/BehatWizardBundle/demo/behat/wizard/list.html">BehatWizard</A>
ou <A HREF="https://github.com/behat-viewer/BehatViewer">BehatViewer</A>.</P>
<P>Pour éviter de préciser manuellement quel format de sortie vous
souhaitez utiliser lorsque vous lancez Behat, vous pouvez tout à
fait les préciser une bonne fois pour toute dans votre
configuration, c'est-à-dire dans le fichier <CODE>behat.yml</CODE> :</P>
<PRE></PRE><P>
Cette configation vous permet par exemple d'afficher le résultat
dans votre terminal, mais aussi générer des fichiers de
compte-rendu en Html et en XML.</P>
<BLOCKQUOTE>Multiplier les formats de sortie de compte-rendus permet
de multipliser les usages</BLOCKQUOTE>
<H1><A NAME="le-mot-de-la-fin-le-pouvoir-du-canard-"></A>Chapitre 6
Le mot de la fin : le pouvoir du canard !</H1>
<P>Connaissez-vous le &quot;Duck Typing&quot; (traduit par &quot;typage
canard&quot;) ? La légende veut que le poète James Whitcomb Riley
soit à l'origine de cette expression :</P>
<PRE STYLE="margin-bottom: 0.5cm">Si je vois un animal qui vole comme un canard, cancane comme un canard, et nage comme un canard, alors j'appelle cet oiseau un canard</PRE><P>
Ce principe peut s'appliquer au test logiciel : si un module
fonctionnel semble avoir le comportement attendu, possède
l'apparence souhaitée, ne génère pas d'erreur, est utilisable
facilement, a été utilisé par plusieurs personnes... Alors on peut
sans risque penser que ce module fonctionnel est correct et cohérent.</P>
<P>Cette analogie est importante car elle permet de comprendre que
<EM>tout ne peut (et ne doit) pas être testé par un logiciel</EM>.
Traduire un besoin fonctionnel en tests automatisés prend du temps ;
et ce temps, en général, vous ne l'aurez pas. Il faut donc faire
des choix : ne testez pas tout, ayez parfois confiance au travail de
l'humain, et concentrez-vous sur ce qui est essentiel ou sensible
dans l'application que vous avez à développer.</P>
<P>N'oubliez pas non plus que l'ensemble des pratiques que nous avons
évoqué concernent avant tout une démarche. <EM>Le développement
piloté par le Comportement est une démarche de travail avant de
reposer sur des outils</EM>. Non, les outils ne comptent pas, seule
la communication entre les différents acteurs d'un projet est
essentielle.</P>
<P>Enfin, et c'est le plus important, rappelez-vous qu'<EM>un projet
informatique consiste à produire un service qui sera utilisé par
des humains</EM> (utilisateurs finaux). C'est à ces personnes qu'il
faut penser en priorité. Toutes les pratiques, toutes les recettes
fonctionnelles et techniques qui peuvent être mis en place dans un
projet ne consistent qu'à optimiser et à améliorer le service
rendu par un Produit. A vous de faire en sorte que ce Produit soit le
plus efficace possible.</P>
<H1>Table des matières</H1>
<UL>
	<LI><P STYLE="margin-bottom: 0cm">Chapitre 1 <A HREF="#le-besoin-metier">Le
	besoin métier</A> 
	</P>
	<LI><P STYLE="margin-bottom: 0cm">1.1 <A HREF="#ayez-une-vision-de-votre-produit">Ayez
	une vision de votre produit</A> 
	</P>
	<LI><P STYLE="margin-bottom: 0cm">1.2 <A HREF="#le-bon-produit-est-celui-qui-repond-a-votre-vision">Le
	bon produit est celui qui répond à votre vision</A> 
	</P>
	<LI><P STYLE="margin-bottom: 0cm">1.3 <A HREF="#vous-attendez-des-resultats-metiers">Vous
	attendez des résultats métiers</A> 
	</P>
	<LI><P STYLE="margin-bottom: 0cm">1.4 <A HREF="#re-priorisez-souvent-changez-souvent">Re-priorisez
	souvent, changez souvent</A> 
	</P>
	<LI><P STYLE="margin-bottom: 0cm">1.5 <A HREF="#gerez-votre-besoin-de-changements">Gérez
	votre besoin de changements</A> 
	</P>
	<LI><P STYLE="margin-bottom: 0cm">Chapitre 2 <A HREF="#communiquez">Communiquez</A>
		</P>
	<LI><P STYLE="margin-bottom: 0cm">2.1 <A HREF="#adoptez-une-langue-commune">Adoptez
	une Langue Commune</A> 
	</P>
	<LI><P STYLE="margin-bottom: 0cm">2.2 <A HREF="#laissez-la-technique-aux-developpeurs">Laissez
	la technique aux développeurs</A> 
	</P>
	<LI><P STYLE="margin-bottom: 0cm">2.3 <A HREF="#racontez-votre-produit">Racontez
	votre produit</A> 
	</P>
	<LI><P STYLE="margin-bottom: 0cm">2.4 <A HREF="#identifiez-le-domaine-fonctionnel">Identifiez
	le Domaine fonctionnel</A> 
	</P>
	<LI><P STYLE="margin-bottom: 0cm">2.5 <A HREF="#faites-vous-interviewer">Faites-vous
	interviewer</A> 
	</P>
	<LI><P STYLE="margin-bottom: 0cm">2.6 <A HREF="#les-taches-ne-servent-a-rien">Les
	tâches ne servent à rien</A> 
	</P>
	<LI><P STYLE="margin-bottom: 0cm">Chapitre 3 <A HREF="#impliquez-les-parties-prenantes">Impliquez
	les parties prenantes</A> 
	</P>
	<LI><P STYLE="margin-bottom: 0cm">3.1 <A HREF="#un-projet-est-comme-un-film">Un
	projet est comme un Film</A> 
	</P>
	<LI><P STYLE="margin-bottom: 0cm">3.2 <A HREF="#devenez-spectateur-un-instant">Devenez
	spectateur un instant</A> 
	</P>
	<LI><P STYLE="margin-bottom: 0cm">3.3 <A HREF="#tous-les-acteurs-ont-des-bonnes-idees">Tous
	les acteurs ont des bonnes idées</A> 
	</P>
	<LI><P STYLE="margin-bottom: 0cm">Chapitre 4 <A HREF="#exprimez-votre-besoin">Exprimez
	votre besoin</A> 
	</P>
	<LI><P STYLE="margin-bottom: 0cm">4.1 <A HREF="#tous-la-meme-grammaire">Tous
	la même grammaire</A> 
	</P>
	<LI><P STYLE="margin-bottom: 0cm">4.2 <A HREF="#decrivez-vos-fonctionnalites-metiers">Décrivez
	vos Fonctionnalités métiers</A> 
	</P>
	<LI><P STYLE="margin-bottom: 0cm">4.3 <A HREF="#des-scenarios-pour-vos-fonctionnalites">Des
	scénarios pour vos fonctionnalités</A> 
	</P>
	<LI><P STYLE="margin-bottom: 0cm">4.4 <A HREF="#illustrez-le-tout-avec-des-exemples">Illustrez
	le tout avec des exemples</A> 
	</P>
	<LI><P STYLE="margin-bottom: 0cm">4.5 <A HREF="#travaillez-en-equipe">Travaillez
	en équipe</A> 
	</P>
	<LI><P STYLE="margin-bottom: 0cm">4.6 <A HREF="#des-assistants-visuels">Des
	assistants visuels</A> 
	</P>
	<LI><P STYLE="margin-bottom: 0cm">Chapitre 5 <A HREF="#un-peu-de-recul-sur-le-developpement-pilote-par-le-comportement">Un
	peu de recul sur le Développement piloté par le Comportement</A> 
	</P>
	<LI><P STYLE="margin-bottom: 0cm">5.1 <A HREF="#votre-fonctionnalite-se-specifie-elle-meme">Votre
	fonctionnalité se spécifie elle-même</A> 
	</P>
	<LI><P STYLE="margin-bottom: 0cm">5.2 <A HREF="#servez-vous-de-vos-fonctionnalites-pour-prioriser">Servez-vous
	de vos fonctionnalités pour prioriser</A> 
	</P>
	<LI><P STYLE="margin-bottom: 0cm">5.3 <A HREF="#mesurez-le-chemin-parcouru-pas-lenergie-depensee">Mesurez
	le chemin parcouru, pas l'énergie dépensée</A> 
	</P>
	<LI><P STYLE="margin-bottom: 0cm">5.4 <A HREF="#une-bonne-fonctionnalite-sert-la-vision-produit">Une
	bonne fonctionnalité sert la Vision Produit</A> 
	</P>
	<LI><P STYLE="margin-bottom: 0cm">5.5 <A HREF="#oubliez-linterface-graphique">Oubliez
	l'interface graphique</A> 
	</P>
	<LI><P STYLE="margin-bottom: 0cm">5.6 <A HREF="#le-scenario-nest-pas-un-critere-dacceptation">Le
	scénario n'est pas un critère d'acceptation</A> 
	</P>
	<LI><P STYLE="margin-bottom: 0cm">5.7 <A HREF="#les-principales-causes-dechec-du-bdd">Les
	principales causes d'échec du BDD</A> 
	</P>
	<LI><P STYLE="margin-bottom: 0cm">Chapitre 6 <A HREF="#recette-et-maintenabilite">Recette
	et maintenabilité</A> 
	</P>
	<LI><P STYLE="margin-bottom: 0cm">6.1 <A HREF="#chaque-recette-fonctionnelle-peut-etre-automatisee">Chaque
	recette fonctionnelle peut être automatisée</A> 
	</P>
	<LI><P STYLE="margin-bottom: 0cm">6.2 <A HREF="#assurez-vous-que-les-equipes-techniques-automatisent-leurs-recettes-techniques">Assurez-vous
	que les équipes techniques automatisent leurs recettes techniques</A>
		</P>
	<LI><P STYLE="margin-bottom: 0cm">Chapitre 7 <A HREF="#le-mot-de-la-fin">Le
	mot de la fin</A> 
	</P>
	<LI><P STYLE="margin-bottom: 0cm">7.1 <A HREF="#parlons-la-meme-langue">Parlons
	la même langue</A> 
	</P>
	<LI><P STYLE="margin-bottom: 0cm">7.2 <A HREF="#cartographie-du-developpement-pilote-par-le-comportement">Cartographie
	du Développement piloté par le Comportement</A> 
	</P>
	<LI><P STYLE="margin-bottom: 0cm">7.3 <A HREF="#les-10-commandements-pour-vous-mettre-au-developpement-pilote-par-le-comportement">Les
	10 commandements pour vous mettre au Développement piloté par le
	Comportement</A> 
	</P>
	<LI><P STYLE="margin-bottom: 0cm">Chapitre 1 <A HREF="#le-client-ne-sait-pas-ce-quil-veut-sauf-si-vous-communiquez">Le
	client ne sait pas ce qu'il veut. Sauf si... vous communiquez.</A> 
	</P>
	<LI><P STYLE="margin-bottom: 0cm">1.1 <A HREF="#le-client-doit-vous-fournir-sa-vision">Le
	client doit vous fournir sa Vision</A> 
	</P>
	<LI><P STYLE="margin-bottom: 0cm">1.2 <A HREF="#votre-client-ne-parle-pas-la-meme-langue-que-vous">Votre
	Client ne parle pas la même langue que vous</A> 
	</P>
	<LI><P STYLE="margin-bottom: 0cm">1.3 <A HREF="#engagez-vous-a-livrer-regulierement">Engagez-vous
	à livrer régulièrement</A> 
	</P>
	<LI><P STYLE="margin-bottom: 0cm">1.4 <A HREF="#adoptez-le-point-de-vue-de-lutilisateur-final">Adoptez
	le point de vue de l'utilisateur final</A> 
	</P>
	<LI><P STYLE="margin-bottom: 0cm">Chapitre 2 <A HREF="#votre-code-doit-refleter-le-besoin-fonctionnel">Votre
	code doit refléter le Besoin fonctionnel</A> 
	</P>
	<LI><P STYLE="margin-bottom: 0cm">2.1 <A HREF="#le-domain-driven-design">Le
	Domain Driven Design</A> 
	</P>
	<LI><P STYLE="margin-bottom: 0cm">2.2 <A HREF="#-les-tests-unitaires-sont-indispensables">&nbsp;Les
	tests unitaires sont indispensables</A> 
	</P>
	<LI><P STYLE="margin-bottom: 0cm">2.3 <A HREF="#-tester-le-besoin-metier-est-indispensable">&nbsp;Tester
	le besoin métier est indispensable</A> 
	</P>
	<LI><P STYLE="margin-bottom: 0cm">Chapitre 3 <A HREF="#comprenez-enfin-ce-que-votre-client-vous-demande">Comprenez
	(enfin!) ce que votre client vous demande</A> 
	</P>
	<LI><P STYLE="margin-bottom: 0cm">3.1 <A HREF="#le-besoin-doit-etre-exprime-par-des-fonctionnalites">Le
	besoin doit être exprimé par des Fonctionnalités</A> 
	</P>
	<LI><P STYLE="margin-bottom: 0cm">3.2 <A HREF="#vous-etes-un-journaliste-interviewez-">Vous
	êtes un journaliste : interviewez !</A> 
	</P>
	<LI><P STYLE="margin-bottom: 0cm">3.3 <A HREF="#chaque-fonctionnalite-peut-etre-decoupe-en-scenarios">Chaque
	Fonctionnalité peut être découpé en Scénarios</A> 
	</P>
	<LI><P STYLE="margin-bottom: 0cm">3.4 <A HREF="#-demandez-exigez-des-exemples-precis">&nbsp;Demandez
	(exigez) des exemples précis</A> 
	</P>
	<LI><P STYLE="margin-bottom: 0cm">Chapitre 4 <A HREF="#automatisez-votre-recette">Automatisez
	votre recette</A> 
	</P>
	<LI><P STYLE="margin-bottom: 0cm">4.1 <A HREF="#installez-et-utilisez-behat-en-php">Installez
	et utilisez Behat en PHP</A> 
	</P>
	<LI><P STYLE="margin-bottom: 0cm">4.2 <A HREF="#traduire-une-fonctionnalite-en-code-source">Traduire
	une Fonctionnalité en code source</A> 
	</P>
	<LI><P STYLE="margin-bottom: 0cm">4.3 <A HREF="#exploitez-les-jeux-dexemples">Exploitez
	les jeux d'exemples</A> 
	</P>
	<LI><P STYLE="margin-bottom: 0cm">4.4 <A HREF="#reutilisez-vos-precedents-tests">Réutilisez
	vos précédents tests</A> 
	</P>
	<LI><P STYLE="margin-bottom: 0cm">4.5 <A HREF="#testez-une-application-web">Testez
	une application Web</A> 
	</P>
	<UL>
		<LI><P STYLE="margin-bottom: 0cm">Chapitre 5 <A HREF="#optimisez-vos-tests-fonctionnels">Optimisez
		vos tests fonctionnels</A> 
		</P>
	</UL>
	<LI><P STYLE="margin-bottom: 0cm">5.1 <A HREF="#organisez-vos-contextes-de-tests">Organisez
	vos Contextes de tests</A> 
	</P>
	<LI><P STYLE="margin-bottom: 0cm">5.2 <A HREF="#creez-une-couche-disolation-de-lihm">Créez
	une couche d'isolation de l'IHM</A> 
	</P>
	<LI><P STYLE="margin-bottom: 0cm">5.3 <A HREF="#exploitez-les-compte-rendus-de-tests">Exploitez
	les compte-rendus de tests</A> 
	</P>
	<LI><P>Chapitre 6 <A HREF="#le-mot-de-la-fin-le-pouvoir-du-canard-">Le
	mot de la fin : le pouvoir du canard !</A> 
	</P>
</UL>
</BODY>
</HTML>